(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{287:function(e,t,a){e.exports=a.p+"static/media/sidebar-2.310509c9.jpg"},288:function(e,t,a){e.exports=a.p+"static/media/ForceBalance.a85ca401.svg"},290:function(e,t,a){e.exports=a(613)},298:function(e,t,a){},421:function(e,t){},613:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(41),o=a.n(l),i=a(73),c=a(625),s=a(627),m=a(615),p=(a(298),a(45)),d=a(10),u=a(11),h=a(13),g=a(12),f=a(14),b=a(624),v=a(261),E=(a(300),a(3)),x=a.n(E),y=a(7),k=a(35),C=a(4),O=a.n(C),j=a(269),N=a.n(j),S=a(134),F=a.n(S),w=a(22),T=a.n(w),_=a(80),I=a.n(_),D=a(270),P=a.n(D),R=(a(614),a(38)),W=a.n(R),z=a(39),M=a.n(z),A=a(36),H=a.n(A),q=a(263),V=a.n(q),B=a(264),L=a.n(B),$=a(9),Q={transition:"all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)"},U={paddingRight:"15px",paddingLeft:"15px",marginRight:"auto",marginLeft:"auto"},G={boxShadow:"0 10px 30px -12px rgba(0, 0, 0, 0.42), 0 4px 25px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2)"},J={fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",lineHeight:"1.5em"},X={boxShadow:"0 12px 20px -10px rgba(156, 39, 176, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(156, 39, 176, 0.2)"},Y=Object($.a)({background:"linear-gradient(60deg, #ffa726, #fb8c00)"},{boxShadow:"0 12px 20px -10px rgba(255, 152, 0, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(255, 152, 0, 0.2)"}),Z=Object($.a)({background:"linear-gradient(60deg, #66bb6a, #43a047)"},{boxShadow:"0 12px 20px -10px rgba(76, 175, 80, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(76, 175, 80, 0.2)"}),K=Object($.a)({background:"linear-gradient(60deg, #ef5350, #e53935)"},{boxShadow:"0 12px 20px -10px rgba(244, 67, 54, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(244, 67, 54, 0.2)"}),ee=Object($.a)({background:"linear-gradient(60deg, #26c6da, #00acc1)"},{boxShadow:"0 12px 20px -10px rgba(0, 188, 212, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(0, 188, 212, 0.2)"}),te=Object($.a)({background:"linear-gradient(60deg, #ab47bc, #8e24aa)"},X),ae=Object($.a)({background:"linear-gradient(60deg, #ec407a, #d81b60)"},{boxShadow:"0 4px 20px 0px rgba(0, 0, 0, 0.14), 0 7px 10px -5px rgba(233, 30, 99, 0.4)"}),ne=(Object($.a)({margin:"0 20px 10px",paddingTop:"10px",borderTop:"1px solid #eeeeee",height:"auto"},J),{border:"0",borderRadius:"3px",boxShadow:"0 10px 20px -12px rgba(0, 0, 0, 0.42), 0 3px 20px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2)",padding:"10px 0",transition:"all 150ms ease 0s"}),re={color:"#3C4858",textDecoration:"none",fontWeight:"300",marginTop:"30px",marginBottom:"25px",minHeight:"32px",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}},le=(Object($.a)({},re,{marginTop:"0",marginBottom:"3px",minHeight:"auto","& a":Object($.a)({},re,{marginTop:".625rem",marginBottom:"0.75rem",minHeight:"auto"})}),{disabled:{"&:before":{backgroundColor:"transparent !important"}},underline:{"&:hover:not($disabled):before,&:before":{borderColor:"#D2D2D2 !important",borderWidth:"1px !important"},"&:after":{borderColor:"#9c27b0"}},underlineError:{"&:after":{borderColor:"#f44336"}},underlineSuccess:{"&:after":{borderColor:"#4caf50"}},labelRoot:Object($.a)({},J,{color:"#AAAAAA !important",fontWeight:"400",fontSize:"14px",lineHeight:"1.42857"}),labelRootError:{color:"#f44336"},labelRootSuccess:{color:"#4caf50"},feedback:{position:"absolute",top:"18px",right:"0",zIndex:"2",display:"block",width:"24px",height:"24px",textAlign:"center",pointerEvents:"none"},marginTop:{marginTop:"16px"},formControl:{paddingBottom:"10px",margin:"27px 0 0 0",position:"relative"}});x()(le)(function(e){var t,a,n=Object(k.a)({},e),l=n.classes,o=n.formControlProps,i=n.labelText,c=n.id,s=n.labelProps,m=n.inputProps,p=n.error,d=n.success,u=O()((t={},Object(y.a)(t," "+l.labelRootError,p),Object(y.a)(t," "+l.labelRootSuccess,d&&!p),t)),h=O()((a={},Object(y.a)(a,l.underlineError,p),Object(y.a)(a,l.underlineSuccess,d&&!p),Object(y.a)(a,l.underline,!0),a)),g=O()(Object(y.a)({},l.marginTop,void 0===i));return r.a.createElement(W.a,Object.assign({},o,{className:o.className+" "+l.formControl}),void 0!==i?r.a.createElement(M.a,Object.assign({className:l.labelRoot+u,htmlFor:c},s),i):null,r.a.createElement(H.a,Object.assign({classes:{root:g,disabled:l.disabled,underline:h},id:c},m)),p?r.a.createElement(V.a,{className:l.feedback+" "+l.labelRootError}):d?r.a.createElement(L.a,{className:l.feedback+" "+l.labelRootSuccess}):null)});var oe=a(15),ie=a.n(oe),ce={button:{minHeight:"auto",minWidth:"auto",backgroundColor:"#999999",color:"#FFFFFF",boxShadow:"0 2px 2px 0 rgba(153, 153, 153, 0.14), 0 3px 1px -2px rgba(153, 153, 153, 0.2), 0 1px 5px 0 rgba(153, 153, 153, 0.12)",border:"none",borderRadius:"3px",position:"relative",padding:"12px 30px",margin:".3125rem 1px",fontSize:"12px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0",willChange:"box-shadow, transform",transition:"box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1)",lineHeight:"1.42857143",textAlign:"center",whiteSpace:"nowrap",verticalAlign:"middle",touchAction:"manipulation",cursor:"pointer","&:hover,&:focus":{color:"#FFFFFF",backgroundColor:"#999999",boxShadow:"0 14px 26px -12px rgba(153, 153, 153, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(153, 153, 153, 0.2)"},"& .fab,& .fas,& .far,& .fal":{position:"relative",display:"inline-block",top:"0",marginTop:"-1em",marginBottom:"-1em",fontSize:"1.1rem",marginRight:"4px",verticalAlign:"middle"},"& svg":{position:"relative",display:"inline-block",top:"0",width:"18px",height:"18px",marginRight:"4px",verticalAlign:"middle"},"&$justIcon":{"& .fab,& .fas,& .far,& .fal":{marginTop:"0px",position:"absolute",width:"100%",transform:"none",left:"0px",top:"0px",height:"100%",lineHeight:"41px",fontSize:"20px"}}},white:{"&,&:focus,&:hover":{backgroundColor:"#FFFFFF",color:"#999999"}},rose:{backgroundColor:"#e91e63",boxShadow:"0 2px 2px 0 rgba(233, 30, 99, 0.14), 0 3px 1px -2px rgba(233, 30, 99, 0.2), 0 1px 5px 0 rgba(233, 30, 99, 0.12)","&:hover,&:focus":{backgroundColor:"#e91e63",boxShadow:"0 14px 26px -12px rgba(233, 30, 99, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(233, 30, 99, 0.2)"}},primary:{backgroundColor:"#9c27b0",boxShadow:"0 2px 2px 0 rgba(156, 39, 176, 0.14), 0 3px 1px -2px rgba(156, 39, 176, 0.2), 0 1px 5px 0 rgba(156, 39, 176, 0.12)","&:hover,&:focus":{backgroundColor:"#9c27b0",boxShadow:"0 14px 26px -12px rgba(156, 39, 176, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(156, 39, 176, 0.2)"}},info:{backgroundColor:"#00acc1",boxShadow:"0 2px 2px 0 rgba(0, 188, 212, 0.14), 0 3px 1px -2px rgba(0, 188, 212, 0.2), 0 1px 5px 0 rgba(0, 188, 212, 0.12)","&:hover,&:focus":{backgroundColor:"#00acc1",boxShadow:"0 14px 26px -12px rgba(0, 188, 212, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 188, 212, 0.2)"}},success:{backgroundColor:"#4caf50",boxShadow:"0 2px 2px 0 rgba(76, 175, 80, 0.14), 0 3px 1px -2px rgba(76, 175, 80, 0.2), 0 1px 5px 0 rgba(76, 175, 80, 0.12)","&:hover,&:focus":{backgroundColor:"#4caf50",boxShadow:"0 14px 26px -12px rgba(76, 175, 80, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(76, 175, 80, 0.2)"}},warning:{backgroundColor:"#ff9800",boxShadow:"0 2px 2px 0 rgba(255, 152, 0, 0.14), 0 3px 1px -2px rgba(255, 152, 0, 0.2), 0 1px 5px 0 rgba(255, 152, 0, 0.12)","&:hover,&:focus":{backgroundColor:"#ff9800",boxShadow:"0 14px 26px -12px rgba(255, 152, 0, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(255, 152, 0, 0.2)"}},danger:{backgroundColor:"#f44336",boxShadow:"0 2px 2px 0 rgba(244, 67, 54, 0.14), 0 3px 1px -2px rgba(244, 67, 54, 0.2), 0 1px 5px 0 rgba(244, 67, 54, 0.12)","&:hover,&:focus":{backgroundColor:"#f44336",boxShadow:"0 14px 26px -12px rgba(244, 67, 54, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(244, 67, 54, 0.2)"}},simple:{"&,&:focus,&:hover":{color:"#FFFFFF",background:"transparent",boxShadow:"none"},"&$rose":{"&,&:focus,&:hover,&:visited":{color:"#e91e63"}},"&$primary":{"&,&:focus,&:hover,&:visited":{color:"#9c27b0"}},"&$info":{"&,&:focus,&:hover,&:visited":{color:"#00acc1"}},"&$success":{"&,&:focus,&:hover,&:visited":{color:"#4caf50"}},"&$warning":{"&,&:focus,&:hover,&:visited":{color:"#ff9800"}},"&$danger":{"&,&:focus,&:hover,&:visited":{color:"#f44336"}}},transparent:{"&,&:focus,&:hover":{color:"inherit",background:"transparent",boxShadow:"none"}},disabled:{opacity:"0.65",pointerEvents:"none"},lg:{padding:"1.125rem 2.25rem",fontSize:"0.875rem",lineHeight:"1.333333",borderRadius:"0.2rem"},sm:{padding:"0.40625rem 1.25rem",fontSize:"0.6875rem",lineHeight:"1.5",borderRadius:"0.2rem"},round:{borderRadius:"30px"},block:{width:"100% !important"},link:{"&,&:hover,&:focus":{backgroundColor:"transparent",color:"#999999",boxShadow:"none"}},justIcon:{paddingLeft:"12px",paddingRight:"12px",fontSize:"20px",height:"41px",minWidth:"41px",width:"41px","& .fab,& .fas,& .far,& .fal,& svg":{marginRight:"0px"},"&$lg":{height:"57px",minWidth:"57px",width:"57px",lineHeight:"56px","& .fab,& .fas,& .far,& .fal":{fontSize:"32px",lineHeight:"56px"},"& svg":{width:"32px",height:"32px"}},"&$sm":{height:"30px",minWidth:"30px",width:"30px","& .fab,& .fas,& .far,& .fal":{fontSize:"17px",lineHeight:"29px"},"& svg":{width:"17px",height:"17px"}}}};var se=x()(ce)(function(e){var t,a=Object(k.a)({},e),n=a.classes,l=a.color,o=a.round,i=a.children,c=a.disabled,s=a.simple,m=a.size,d=a.block,u=a.link,h=a.justIcon,g=a.className,f=a.muiClasses,b=Object(p.a)(a,["classes","color","round","children","disabled","simple","size","block","link","justIcon","className","muiClasses"]),v=O()((t={},Object(y.a)(t,n.button,!0),Object(y.a)(t,n[m],m),Object(y.a)(t,n[l],l),Object(y.a)(t,n.round,o),Object(y.a)(t,n.disabled,c),Object(y.a)(t,n.simple,s),Object(y.a)(t,n.block,d),Object(y.a)(t,n.link,u),Object(y.a)(t,n.justIcon,h),Object(y.a)(t,g,g),t));return r.a.createElement(ie.a,Object.assign({},b,{classes:f,className:v}),i)}),me=function(e){return{buttonLink:Object(y.a)({},e.breakpoints.down("md"),{display:"flex",marginLeft:"30px",width:"auto"}),links:Object(y.a)({width:"20px",height:"20px",zIndex:"4"},e.breakpoints.down("md"),{display:"block",width:"30px",height:"30px",color:"#a9afbb",marginRight:"15px"}),linkText:Object($.a)({zIndex:"4"},J,{fontSize:"14px"}),popperClose:{pointerEvents:"none"},pooperResponsive:Object(y.a)({},e.breakpoints.down("md"),{zIndex:"1640",position:"static",float:"none",width:"auto",marginTop:"0",backgroundColor:"transparent",border:"0",WebkitBoxShadow:"none",boxShadow:"none",color:"black"}),dropdown:{borderRadius:"3px",border:"0",boxShadow:"0 2px 5px 0 rgba(0, 0, 0, 0.26)",top:"100%",zIndex:"1000",minWidth:"160px",padding:"5px 0",margin:"2px 0 0",fontSize:"14px",textAlign:"left",listStyle:"none",backgroundColor:"#fff",WebkitBackgroundClip:"padding-box",backgroundClip:"padding-box"},dropdownItem:Object($.a)({},J,{fontSize:"13px",padding:"10px 20px",margin:"0 5px",borderRadius:"2px",WebkitTransition:"all 150ms linear",MozTransition:"all 150ms linear",OTransition:"all 150ms linear",MsTransition:"all 150ms linear",transition:"all 150ms linear",display:"block",clear:"both",fontWeight:"400",lineHeight:"1.42857143",color:"#333",whiteSpace:"nowrap",height:"unset","&:hover":Object($.a)({backgroundColor:"#9c27b0",color:"#FFFFFF"},X)})}},pe=function(e){var t,a,n;return Object($.a)({},me(e),{search:Object(y.a)({"& > div":{marginTop:"0"}},e.breakpoints.down("sm"),{margin:"10px 15px !important",float:"none !important",paddingTop:"1px",paddingBottom:"1px",padding:"0!important",width:"60%",marginTop:"40px","& input":{color:"#FFFFFF"}}),linkText:Object($.a)({zIndex:"4"},J,{fontSize:"14px",margin:"0px"}),buttonLink:Object(y.a)({},e.breakpoints.down("sm"),{display:"flex",margin:"10px 15px 0",width:"-webkit-fill-available","& svg":{width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& > span":{justifyContent:"flex-start"}}),searchButton:Object(y.a)({},e.breakpoints.down("sm"),{top:"-50px !important",marginRight:"22px",float:"right"}),margin:{zIndex:"4",margin:"0"},searchIcon:{width:"17px",zIndex:"4"},notifications:(t={zIndex:"4"},Object(y.a)(t,e.breakpoints.up("md"),{position:"absolute",top:"2px",border:"1px solid #FFF",right:"4px",fontSize:"9px",background:"#f44336",color:"#FFFFFF",minWidth:"16px",height:"16px",borderRadius:"10px",textAlign:"center",lineHeight:"16px",verticalAlign:"middle",display:"block"}),Object(y.a)(t,e.breakpoints.down("sm"),Object($.a)({},J,{fontSize:"14px",marginRight:"8px"})),t),manager:(a={},Object(y.a)(a,e.breakpoints.down("sm"),{width:"100%"}),Object(y.a)(a,"display","inline-block"),a),searchWrapper:(n={},Object(y.a)(n,e.breakpoints.down("sm"),{width:"-webkit-fill-available",margin:"10px 15px 0"}),Object(y.a)(n,"display","inline-block"),n)})},de=a(266),ue=a.n(de),he=a(50),ge=a.n(he),fe=a(190),be=a.n(fe),ve=a(112),Ee=a.n(ve),xe=a(111),ye=a.n(xe),ke=a(267),Ce=a.n(ke),Oe=a(268),je=a.n(Oe),Ne=a(42),Se=a.n(Ne),Fe=a(64),we=a.n(Fe),Te=a(63),_e=a.n(Te),Ie=a(62),De=a.n(Ie),Pe=a(16),Re=a.n(Pe),We=a(265),ze=a.n(We),Me=new(function(){function e(){Object(d.a)(this,e),this.socket=ze()("http://127.0.0.1:5005/api"),this.projectName=null,this.eventCallbacks={},this.onChangeCallbacks=[]}return Object(u.a)(e,[{key:"checkProject",value:function(){var e=this;this.socket.emit("list_projects",function(t){t.length>0&&e.setProject(t[0].projectName)})}},{key:"onChangeProjectName",value:function(e){-1===this.onChangeCallbacks.indexOf(e)&&this.onChangeCallbacks.push(e)}},{key:"removeOnChangeProjectName",value:function(e){var t=this.onChangeCallbacks.indexOf(e);-1!==t&&this.onChangeCallbacks.splice(t,1)}},{key:"setProject",value:function(e){this.projectName!==e&&(this.projectName=e,this.onChangeCallbacks.forEach(function(t){t(e)}))}},{key:"createProject",value:function(e){this.socket.emit("create_project",e),this.setProject(e)}},{key:"listProjects",value:function(e){this.socket.emit("list_projects",function(t){e(t)})}},{key:"getInputParams",value:function(e){null!==this.projectName&&this.socket.emit("get_input_params",this.projectName,function(t){e(t)})}},{key:"launchOptimizer",value:function(){null!==this.projectName&&this.socket.emit("launch_optimizer",this.projectName)}},{key:"resetOptimizer",value:function(){null!==this.projectName&&this.socket.emit("reset_optimizer",this.projectName)}},{key:"pullStatus",value:function(){null!==this.projectName&&this.socket.emit("pull_status",this.projectName)}},{key:"pullOptIter",value:function(){null!==this.projectName&&this.socket.emit("pull_opt_iter",this.projectName)}},{key:"getOptimizerState",value:function(e){null!==this.projectName&&this.socket.emit("get_optimizer_state",this.projectName,function(t){e(t)})}},{key:"uploadForceFieldFile",value:function(e,t){null!==this.projectName&&this.socket.emit("upload_ff_file",this.projectName,{fileName:e.name,fileType:e.type,fileSize:e.size,fileData:e},function(e){return t(e)})}},{key:"getForceFieldInfo",value:function(e){null!==this.projectName&&this.socket.emit("get_forcefield_info",this.projectName,function(t){e(t)})}},{key:"uploadPriorRules",value:function(e){null!==this.projectName&&this.socket.emit("set_forcefield_prior_rules",this.projectName,e)}},{key:"createFittingTarget",value:function(e,t,a,n){null!==this.projectName&&this.socket.emit("create_fitting_target",this.projectName,{targetName:e,targetType:t,fileNames:a.map(function(e){return e.name}),fileDatas:a},function(e){n(e)})}},{key:"getTargetNames",value:function(e){null!==this.projectName&&this.socket.emit("get_target_names",this.projectName,function(t){e(t)})}},{key:"getAllTargetsInfo",value:function(e){null!==this.projectName&&this.socket.emit("get_all_targets_info",this.projectName,function(t){e(t)})}},{key:"getTargetData",value:function(e,t){null!==this.projectName&&this.socket.emit("get_target_data",this.projectName,e,function(e){t(e)})}},{key:"getTargetOptions",value:function(e,t){null!==this.projectName&&this.socket.emit("get_target_options",this.projectName,e,function(e){t(e)})}},{key:"setTargetOptions",value:function(e,t){null!==this.projectName&&this.socket.emit("set_target_options",this.projectName,e,t)}},{key:"deleteFittingTarget",value:function(e){null!==this.projectName&&this.socket.emit("delete_fitting_target",this.projectName,e)}},{key:"getOptimizerOptions",value:function(e){null!==this.projectName&&this.socket.emit("get_optimizer_options",this.projectName,function(t){e(t)})}},{key:"setOptimizerOptions",value:function(e){null!==this.projectName&&this.socket.emit("set_optimizer_options",this.projectName,e)}},{key:"getOptimizeResults",value:function(e){null!==this.projectName&&this.socket.emit("get_optimize_results",this.projectName,function(t){e(t)})}},{key:"getTargetObjectiveData",value:function(e,t,a){null!==this.projectName&&this.socket.emit("get_target_objective_data",this.projectName,e,t,function(e){a(e)})}},{key:"getFinalForceFieldInfo",value:function(e){null!==this.projectName&&this.socket.emit("get_final_forcefield_info",this.projectName,function(t){e(t)})}},{key:"validate_target_file",value:function(e,t,a,n,r){null!==this.projectName&&this.socket.emit("validate_target_file",this.projectName,{targetName:e,targetType:t,fileType:n,fileNames:a.map(function(e){return e.name}),fileDatas:a},function(e){r(e)})}},{key:"validate_target_create",value:function(e,t){null!==this.projectName&&this.socket.emit("validate_target_create",this.projectName,{targetName:e},function(e){t(e)})}},{key:"getWorkQueueStatus",value:function(e){null!==this.projectName&&this.socket.emit("get_workqueue_status",this.projectName,function(t){e(t)})}},{key:"register",value:function(e,t){var a=this;e in this.eventCallbacks?-1===this.eventCallbacks[e].indexOf(t)&&this.eventCallbacks[e].push(t):(this.eventCallbacks[e]=[t],this.socket.on(e,function(t){t.projectName===a.projectName&&a.eventCallbacks[e].forEach(function(e){e(t)})}))}},{key:"unregister",value:function(e,t){if(e in this.eventCallbacks){var a=this.eventCallbacks[e].indexOf(t);-1!==a&&this.eventCallbacks[e].splice(a,1)}}}]),e}()),Ae=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(e){a.setState({text:e.target.value})},a.handleClose=function(){a.setState({open:!1})},a.handleCreateProject=function(){Me.createProject(a.state.text),a.setState({projectNames:a.state.projectNames.concat([a.state.text])}),a.props.onClose()},a.state={text:"project1",projectNames:[]},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;Me.listProjects(function(t){e.setState({projectNames:t.map(function(e){return e.projectName})})})}},{key:"render",value:function(){var e=this.state,t=e.text,a=-1!==e.projectNames.indexOf(t);return r.a.createElement(Se.a,{open:this.props.open},r.a.createElement(De.a,{id:"form-dialog-title"},"Create New Project"),r.a.createElement(_e.a,null,r.a.createElement(Re.a,{autoFocus:!0,label:"Project Name",fullWidth:!0,value:t,onChange:this.handleChange,error:a,helperText:a?"Project Exists":"Project name available",style:{width:500}})),r.a.createElement(we.a,null,r.a.createElement(ie.a,{onClick:this.props.onClose},"Cancel"),r.a.createElement(ie.a,{onClick:this.handleCreateProject,disabled:a},"Create")))}}]),t}(r.a.Component),He={0:"#999999",1:"#00acc1",2:"#4caf50",3:"#f44336",4:"#9c27b0"},qe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).update=function(){Me.listProjects(a.updateProjects)},a.updateProjects=function(e){a.setState({projects:e});var t=e.map(function(e){return e.projectName}).indexOf(a.props.projectName);t>-1&&a.setState({projectValue:t})},a.handleClick=function(e){a.setState({anchorEl:e.currentTarget}),a.update()},a.handleCloseMenu=function(){a.setState({anchorEl:null})},a.handleMenuItemClick=function(e,t){a.setState({projectValue:t,anchorEl:null,projectName:a.state.projects[t]});var n=a.state.projects[t].projectName;Me.setProject(n)},a.handleOpenDialog=function(){a.setState({dialogOpen:!0})},a.handleCloseDialog=function(){a.setState({dialogOpen:!1,anchorEl:null})},a.state={anchorEl:null,projects:[],projectValue:0,dialogOpen:!1},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){Me.register("update_status",this.update)}},{key:"render",value:function(){var e=this,t=this.state,a=t.projects,n=t.projectValue,l=t.anchorEl;return 0===a.length?r.a.createElement("span",null,r.a.createElement(se,{onClick:this.handleOpenDialog},"Create Project"),r.a.createElement(Ae,{open:this.state.dialogOpen,onClose:this.handleCloseDialog})):r.a.createElement("span",null,r.a.createElement(se,{onClick:this.handleClick}," ",this.props.projectName," "),r.a.createElement(ue.a,{id:"project-menu",anchorEl:l,open:Boolean(l),onClose:this.handleCloseMenu},r.a.createElement(be.a,null,"Existing Projects"),a.map(function(t,a){return r.a.createElement(ge.a,{key:t.projectName,selected:a===n,onClick:function(t){return e.handleMenuItemClick(t,a)}},r.a.createElement(ye.a,{primary:t.projectName}),r.a.createElement(Ee.a,null,r.a.createElement(Ce.a,{style:{color:He[t.status]}})))}),r.a.createElement(be.a,null,"New Project"),r.a.createElement(ge.a,{key:"Create Project",onClick:this.handleOpenDialog},r.a.createElement(ye.a,{primary:"Create New Project"}),r.a.createElement(Ee.a,null,r.a.createElement(je.a,null)))),r.a.createElement(Ae,{open:this.state.dialogOpen,onClose:this.handleCloseDialog}))}}]),t}(r.a.Component),Ve={idle:0,running:1,finished:2,error:3,noConnection:4},Be=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).updateStatus=function(e){a.setState({status:e.status})},a.state={status:null},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){Me.register("update_status",this.updateStatus),Me.pullStatus()}},{key:"componentWillUnmount",value:function(){Me.unregister("update_status",this.updateStatus)}},{key:"componentDidUpdate",value:function(e){this.props.projectName!==e.projectName&&Me.pullStatus()}},{key:"render",value:function(){var e=this.state.status,t=null;return e===Ve.idle?t=r.a.createElement(se,{color:"white",round:!0}," Idle "):e===Ve.running?t=r.a.createElement(se,{color:"info",round:!0},"Running"):e===Ve.finished?t=r.a.createElement(se,{color:"success",round:!0},"Finished"):e===Ve.error?t=r.a.createElement(se,{color:"danger",round:!0},"Error"):e===Ve.noConnection&&(t=r.a.createElement(se,{color:"primary",round:!0},"No connection")),t}}]),t}(r.a.Component),Le=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleClick=function(){a.setState({open:!a.state.open})},a.handleClose=function(){a.setState({open:!1})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){this.props.classes,this.state.open;return r.a.createElement("div",null,r.a.createElement(qe,{projectName:this.props.projectName}),r.a.createElement(Be,{projectName:this.props.projectName}))}}]),t}(r.a.Component),$e=x()(pe)(Le),Qe=function(e){return{appBar:{backgroundColor:"transparent",boxShadow:"none",borderBottom:"0",marginBottom:"0",position:"absolute",width:"100%",paddingTop:"10px",zIndex:"1029",color:"#555555",border:"0",borderRadius:"3px",padding:"10px 0",transition:"all 150ms ease 0s",minHeight:"50px",display:"block"},container:Object($.a)({},U,{minHeight:"50px"}),flex:{flex:1},title:Object($.a)({},J,{lineHeight:"30px",fontSize:"18px",borderRadius:"3px",textTransform:"none",color:"inherit","&:hover,&:focus":{background:"transparent"}}),appResponsive:{top:"8px"},primary:Object($.a)({backgroundColor:"#9c27b0",color:"#FFFFFF"},ne),info:Object($.a)({backgroundColor:"#00acc1",color:"#FFFFFF"},ne),success:Object($.a)({backgroundColor:"#4caf50",color:"#FFFFFF"},ne),warning:Object($.a)({backgroundColor:"#ff9800",color:"#FFFFFF"},ne),danger:Object($.a)({backgroundColor:"#f44336",color:"#FFFFFF"},ne)}};var Ue=x()(Qe)(function(e){var t=Object(k.a)({},e),a=t.classes,n=t.color,l=O()(Object(y.a)({}," "+a[n],n));return r.a.createElement(N.a,{className:a.appBar+l},r.a.createElement(F.a,{className:a.container},r.a.createElement("div",{className:a.flex},r.a.createElement(se,{color:"transparent",href:"#",className:a.title},function(){var e;return t.routes.map(function(a,n){return a.path===t.location.pathname&&(e=a.navbarName),null}),e}())),r.a.createElement(I.a,{smDown:!0,implementation:"css"},r.a.createElement($e,{projectName:t.projectName})),r.a.createElement(I.a,{mdUp:!0},r.a.createElement(T.a,{className:a.appResponsive,color:"inherit","aria-label":"open drawer",onClick:t.handleDrawerToggle},r.a.createElement(P.a,null)))))}),Ge=a(72),Je=a.n(Ge),Xe=a(110),Ye=a.n(Xe),Ze={block:Object($.a)({color:"inherit",padding:"15px",textTransform:"uppercase",borderRadius:"3px",textDecoration:"none",position:"relative",display:"block"},J,{fontWeight:"500",fontSize:"12px"}),left:{float:"left!important",display:"block"},right:{padding:"15px 0",margin:"0",fontSize:"14px",float:"right!important"},footer:Object($.a)({bottom:"0",borderTop:"1px solid #e7e7e7",padding:"15px 0"},J),container:U,a:{color:"#9c27b0",textDecoration:"none",backgroundColor:"transparent"},list:{marginBottom:"0",padding:"0",marginTop:"0"},inlineBlock:{display:"inline-block",paddingTop:"0px",width:"auto"}};var Ke=x()(Ze)(function(e){var t=Object(k.a)({},e).classes;return r.a.createElement("footer",{className:t.footer},r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:t.left},r.a.createElement(Ye.a,{className:t.list},r.a.createElement(Je.a,{className:t.inlineBlock},r.a.createElement("a",{href:"#home",className:t.block},"Home")),r.a.createElement(Je.a,{className:t.inlineBlock},r.a.createElement("a",{href:"#projects",className:t.block},"Projects")),r.a.createElement(Je.a,{className:t.inlineBlock},r.a.createElement("a",{href:"https://github.com/yudongqiu/fb-dashboard",target:"_blank",rel:"noopener noreferrer",className:t.block},"Github")),r.a.createElement(Je.a,{className:t.inlineBlock},r.a.createElement("a",{href:"https://github.com/yudongqiu/fb-dashboard/commits/master",target:"_blank",rel:"noopener noreferrer",className:t.block},"Blog")))),r.a.createElement("p",{className:t.right},r.a.createElement("span",null,"\xa9 ",1900+(new Date).getYear()," ",r.a.createElement("a",{href:"http://www.lpwchem.org/",target:"_blank",rel:"noopener noreferrer",className:t.a},"L-P Wang Group")))))}),et=a(626),tt=a(191),at=a.n(tt),nt=function(e){var t;return{drawerPaper:Object($.a)({border:"none",position:"fixed",top:"0",bottom:"0",left:"0",zIndex:"1"},G,(t={width:260},Object(y.a)(t,e.breakpoints.up("md"),{width:260,position:"fixed",height:"100%"}),Object(y.a)(t,e.breakpoints.down("sm"),Object($.a)({width:260},G,{position:"fixed",display:"block",top:"0",height:"100vh",right:"0",left:"auto",zIndex:"1032",visibility:"visible",overflowY:"visible",borderTop:"none",textAlign:"left",paddingRight:"0px",paddingLeft:"0",transform:"translate3d(".concat(260,"px, 0, 0)")},Q)),t)),logo:{position:"relative",padding:"15px 15px",zIndex:"4","&:after":{content:'""',position:"absolute",bottom:"0",height:"1px",right:"15px",width:"calc(100% - 30px)",backgroundColor:"rgba(180, 180, 180, 0.3)"}},logoLink:Object($.a)({},J,{textTransform:"uppercase",padding:"5px 0",display:"block",fontSize:"18px",textAlign:"left",fontWeight:"400",lineHeight:"30px",textDecoration:"none",backgroundColor:"transparent","&,&:hover":{color:"#FFFFFF"}}),logoImage:{width:"30px",display:"inline-block",maxHeight:"30px",marginLeft:"10px",marginRight:"15px"},img:{width:"35px",top:"22px",position:"absolute",verticalAlign:"middle",border:"0"},background:{position:"absolute",zIndex:"1",height:"100%",width:"100%",display:"block",top:"0",left:"0",backgroundSize:"cover",backgroundPosition:"center center","&:after":{position:"absolute",zIndex:"3",width:"100%",height:"100%",content:'""',display:"block",background:"#000",opacity:".8"}},list:{marginTop:"20px",paddingLeft:"0",paddingTop:"0",paddingBottom:"0",marginBottom:"0",listStyle:"none",position:"unset"},item:{position:"relative",display:"block",textDecoration:"none","&:hover,&:focus,&:visited,&":{color:"#FFFFFF"}},itemLink:Object($.a)({width:"auto",transition:"all 300ms linear",margin:"10px 15px 0",borderRadius:"3px",position:"relative",display:"block",padding:"10px 15px",backgroundColor:"transparent"},J),itemIcon:{width:"24px",height:"30px",float:"left",marginRight:"15px",textAlign:"center",verticalAlign:"middle",color:"rgba(255, 255, 255, 0.8)"},itemText:Object($.a)({},J,{margin:"0",lineHeight:"30px",fontSize:"14px",color:"#FFFFFF"}),whiteFont:{color:"#FFFFFF"},purple:Object($.a)({backgroundColor:"#9c27b0"},X,{"&:hover":Object($.a)({backgroundColor:"#9c27b0"},X)}),blue:{backgroundColor:"#00acc1",boxShadow:"0 12px 20px -10px rgba(0,188,212,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(0,188,212,.2)","&:hover":{backgroundColor:"#00acc1",boxShadow:"0 12px 20px -10px rgba(0,188,212,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(0,188,212,.2)"}},green:{backgroundColor:"#4caf50",boxShadow:"0 12px 20px -10px rgba(76,175,80,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(76,175,80,.2)","&:hover":{backgroundColor:"#4caf50",boxShadow:"0 12px 20px -10px rgba(76,175,80,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(76,175,80,.2)"}},orange:{backgroundColor:"#ff9800",boxShadow:"0 12px 20px -10px rgba(255,152,0,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(255,152,0,.2)","&:hover":{backgroundColor:"#ff9800",boxShadow:"0 12px 20px -10px rgba(255,152,0,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(255,152,0,.2)"}},red:{backgroundColor:"#f44336",boxShadow:"0 12px 20px -10px rgba(244,67,54,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(244,67,54,.2)","&:hover":{backgroundColor:"#f44336",boxShadow:"0 12px 20px -10px rgba(244,67,54,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(244,67,54,.2)"}},sidebarWrapper:{position:"relative",height:"calc(100vh - 75px)",overflow:"auto",width:"260px",zIndex:"4",overflowScrolling:"touch"},activePro:Object(y.a)({},e.breakpoints.up("md"),{position:"absolute",width:"100%",bottom:"13px"})}},rt=x()(nt)(function(e){var t=Object(k.a)({},e);function a(e){return t.location.pathname.indexOf(e)>-1}var n=t.classes,l=t.color,o=t.logo,i=t.image,c=t.logoText,s=t.routes,m=r.a.createElement(Ye.a,{className:n.list},s.map(function(e,t){if(e.redirect)return null;var o;o=O()(Object(y.a)({}," "+n[l],a(e.path)));var i=O()(Object(y.a)({}," "+n.whiteFont,a(e.path)));return r.a.createElement(et.a,{to:e.path,className:" "+n.item,activeClassName:"active",key:t},r.a.createElement(Je.a,{button:!0,className:n.itemLink+o},r.a.createElement(Ee.a,{className:n.itemIcon+i},r.a.createElement(e.icon,null)),r.a.createElement(ye.a,{primary:e.sidebarName,className:n.itemText+i,disableTypography:!0})))})),p=r.a.createElement("div",{className:n.logo},r.a.createElement("a",{href:"http://www.lpwchem.org/",target:"_blank",rel:"noopener noreferrer",className:n.logoLink},r.a.createElement("div",{className:n.logoImage},r.a.createElement("img",{src:o,alt:"logo",className:n.img})),c));return r.a.createElement("div",null,r.a.createElement(I.a,{mdUp:!0},r.a.createElement(at.a,{variant:"temporary",anchor:"right",open:t.open,classes:{paper:n.drawerPaper},onClose:t.handleDrawerToggle,ModalProps:{keepMounted:!0}},p,r.a.createElement("div",{className:n.sidebarWrapper},r.a.createElement($e,null),m),void 0!==i?r.a.createElement("div",{className:n.background,style:{backgroundImage:"url("+i+")"}}):null)),r.a.createElement(I.a,{smDown:!0},r.a.createElement(at.a,{anchor:"left",variant:"permanent",open:!0,classes:{paper:n.drawerPaper}},p,r.a.createElement("div",{className:n.sidebarWrapper},m),void 0!==i?r.a.createElement("div",{className:n.background,style:{backgroundImage:"url("+i+")"}}):null)))}),lt=a(284),ot=a.n(lt),it=a(286),ct=a.n(it),st=a(285),mt=a.n(st),pt=a(147),dt=a.n(pt),ut=a(96),ht=a.n(ut),gt=a(48),ft=a.n(gt),bt=a(49),vt=a.n(bt),Et=a(149),xt=a.n(Et),yt=a(95),kt=a.n(yt),Ct=a(30),Ot=a.n(Ct),jt=a(28),Nt=a.n(jt),St=a(55),Ft=a.n(St),wt=a(97),Tt=a.n(wt),_t=a(98),It=a.n(_t),Dt=a(100),Pt=a.n(Dt),Rt=a(276),Wt=a.n(Rt),zt=a(31),Mt=a.n(zt),At=a(81),Ht=a.n(At),qt=a(99),Vt=a.n(qt),Bt=a(56),Lt=a.n(Bt),$t=a(138),Qt=a.n($t),Ut=a(189),Gt=a.n(Ut);var Jt=x()({grid:{padding:"0 15px !important"}})(function(e){var t=Object(k.a)({},e),a=t.classes,n=t.children,l=Object(p.a)(t,["classes","children"]);return r.a.createElement(Mt.a,Object.assign({item:!0},l,{className:a.grid}),n)}),Xt=a(108),Yt=a(273),Zt=a.n(Yt),Kt=a(274),ea=a.n(Kt),ta=a(113),aa=a.n(ta),na=a(271),ra=a.n(na),la=a(275),oa=a.n(la),ia=a(148),ca=a.n(ia),sa=a(272),ma=a.n(sa),pa=a(34),da=a.n(pa),ua=a(29),ha=a.n(ua);function ga(e,t,a){var n=isNaN(e[a])?e[a]:parseFloat(e[a]),r=isNaN(t[a])?t[a]:parseFloat(t[a]);return r<n?-1:r>n?1:0}var fa=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).createSortHandler=function(e){return function(t){a.props.onRequestSort(t,e)}},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.order,n=t.orderBy;return r.a.createElement(ra.a,null,r.a.createElement(ca.a,null,this.props.labels.map(function(t,l){return r.a.createElement(aa.a,{key:t,sortDirection:n===t&&a},r.a.createElement(Ht.a,{title:"Sort",placement:"bottom-start",enterDelay:300},r.a.createElement(ma.a,{active:n===l,direction:a,onClick:e.createSortHandler(l)},t)))},this)))}}]),t}(r.a.Component),ba=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={order:"asc",orderBy:null,page:0,rowsPerPage:5},a.handleRequestSort=function(e,t){var n=t,r="desc";a.state.orderBy===t&&"desc"===a.state.order&&(r="asc"),a.setState({order:r,orderBy:n})},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.data,n=e.title,l=e.tableHead,o=e.handleRowClick,i=this.state,c=i.order,s=i.orderBy,m=i.page,p=i.rowsPerPage,d=p-Math.min(p,a.length-m*p);return a.length<=p&&(d=0),r.a.createElement(ha.a,{className:t.root},n?r.a.createElement("div",{className:t.title},r.a.createElement(da.a,{variant:"subheading"},n)):null,r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(Zt.a,{className:t.table,"aria-labelledby":"tableTitle"},r.a.createElement(fa,{order:c,orderBy:s,onRequestSort:this.handleRequestSort,labels:l}),r.a.createElement(ea.a,null,function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}(a,function(e,t){return"desc"===e?function(e,a){return ga(e,a,t)}:function(e,a){return-ga(e,a,t)}}(c,s)).slice(m*p,m*p+p).map(function(e){return r.a.createElement(ca.a,{hover:Boolean(o),onClick:o?function(t){return o(t,e[0])}:null,key:e[0]},e.map(function(t,a){return r.a.createElement(aa.a,{key:e[0]+a},parseFloat(t)===t?parseFloat(t).toFixed(4):t)}))}),d>0&&r.a.createElement(ca.a,{style:{height:49*d}},r.a.createElement(aa.a,{colSpan:a[0].length}))))),r.a.createElement(oa.a,{component:"div",count:a.length,rowsPerPage:p,page:m,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,rowsPerPageOptions:[5,10,25,50,100]}))}}]),t}(r.a.Component),va=Object(Xt.withStyles)(function(e){return{root:{width:"100%",marginTop:"10px"},table:{minWidth:300},tableWrapper:{overflowX:"auto"},title:{padding:"20px",flex:"0 0 auto",backgroundColor:"#DDDDDD"}}})(ba),Ea=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={fileName:"",paramNames:[],paramValues:[],paramPriors:[],ffText:null,paramPriorRules:[]},a.selectForceFieldFile=function(e){var t=e.target.files[0];t&&(a.setState({fileName:t.name}),Me.uploadForceFieldFile(t,a.update))},a.update=function(){Me.getForceFieldInfo(a.updateForceFieldInfo)},a.updateForceFieldInfo=function(e){e?a.setState({fileName:e.filenames[0],paramNames:e.plist,paramValues:e.pvals,paramPriors:e.priors,ffText:e.raw_text,paramPriorRules:e.prior_rules}):a.setState({fileName:"",paramNames:[],paramValues:[],paramPriors:[],ffText:null,paramPriorRules:[]})},a.addPriorRule=function(){var e=JSON.parse(JSON.stringify(a.state.paramPriorRules));e.push(["",""]),a.setState({paramPriorRules:e})},a.updatePriorRuleName=function(e){return function(t){var n=JSON.parse(JSON.stringify(a.state.paramPriorRules));n[e][0]=t.target.value,a.setState({paramPriorRules:n})}},a.updatePriorRuleValue=function(e){return function(t){var n=JSON.parse(JSON.stringify(a.state.paramPriorRules));n[e][1]=t.target.value,a.setState({paramPriorRules:n})}},a.deletePriorRule=function(e){return function(t){var n=JSON.parse(JSON.stringify(a.state.paramPriorRules));n.splice(e,1),a.setState({paramPriorRules:n})}},a.applyPriorRules=function(){var e=a.state.paramPriorRules;Me.uploadPriorRules(e),a.update()},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){Me.onChangeProjectName(this.update),this.update()}},{key:"componentWillUnmount",value:function(){Me.removeOnChangeProjectName(this.update)}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.fileName,l=a.ffText,o=a.paramNames,i=a.paramValues,c=a.paramPriors,s=a.paramPriorRules,m=this.props.status===Ve.running,p=s.every(function(e){return e[0]&&e[1]&&!isNaN(e[1])});return r.a.createElement(Ot.a,{elevation:0},r.a.createElement(Nt.a,null,r.a.createElement("div",{className:t.title},"Upload a force field file and enter prior rules"),r.a.createElement(W.a,{className:t.formControl,fullWidth:!0},r.a.createElement(M.a,{htmlFor:"ff-file"},"Input Force Field File"),r.a.createElement(H.a,{id:"ff-file",value:n,onChange:null,endAdornment:r.a.createElement(Ft.a,{position:"end"},r.a.createElement("input",{type:"file",id:"ff-file-upload",className:t.input,onChange:this.selectForceFieldFile}),r.a.createElement("label",{htmlFor:"ff-file-upload"},r.a.createElement(T.a,{component:"span",disabled:m},r.a.createElement(Lt.a,null)))),error:""===n})),l?r.a.createElement(Tt.a,{className:t.expansionPanel,CollapseProps:{timeout:500}},r.a.createElement(It.a,{expandIcon:r.a.createElement(Vt.a,null)},"View File Contents"),r.a.createElement(Pt.a,null,r.a.createElement("pre",null,l))):null,o&&o.length>0?r.a.createElement(Tt.a,{className:t.expansionPanel,CollapseProps:{timeout:500}},r.a.createElement(It.a,{expandIcon:r.a.createElement(Vt.a,null)},"Prior Width Rules"),r.a.createElement(Pt.a,null,r.a.createElement(Mt.a,{container:!0},s.map(function(t,a){return r.a.createElement(Mt.a,{container:!0,key:a},r.a.createElement(Jt,{xs:12,sm:8,md:8},r.a.createElement(Re.a,{helperText:"rule",onChange:e.updatePriorRuleName(a),value:t[0],error:""===t[0],fullWidth:!0})),r.a.createElement(Jt,{xs:10,sm:3,md:3},r.a.createElement(Re.a,{helperText:"value",onChange:e.updatePriorRuleValue(a),value:t[1],error:""===t[1]||isNaN(t[1]),fullWidth:!0})),r.a.createElement(Jt,{xs:2,sm:1,md:1},r.a.createElement(Ht.a,{title:"Delete Rule"},r.a.createElement(T.a,{color:"secondary",onClick:e.deletePriorRule(a)},r.a.createElement(Gt.a,null)))))}),r.a.createElement(Jt,{xs:10,sm:11,md:11}),r.a.createElement(Jt,{xs:2,sm:1,md:1},r.a.createElement(Ht.a,{title:"Add Rule"},r.a.createElement(T.a,{color:"primary",onClick:this.addPriorRule},r.a.createElement(Qt.a,null)))))),r.a.createElement(Wt.a,null,r.a.createElement(ie.a,{color:"primary",variant:"contained",onClick:this.applyPriorRules,disabled:!p},"Apply"))):null,o&&o.length>0?r.a.createElement(va,{tableHead:["#","Parameter","Value","Prior Width"],data:o.map(function(e,t){return[t.toString(),e,i[t],c[t]]}),title:"Force Field Parameters"}):null))}}]),t}(r.a.Component),xa=x()({input:{display:"none"},title:{marginBottom:15,fontSize:14},formControl:{marginBottom:15}})(Ea),ya=a(289),ka=a(142),Ca=a.n(ka),Oa=a(37),ja=a.n(Oa),Na=a(140),Sa=a.n(Na),Fa=a(107),wa=a.n(Fa),Ta=a(139),_a=a.n(Ta),Ia=a(57),Da=a.n(Ia),Pa=a(141),Ra=a.n(Pa),Wa=a(277),za=a.n(Wa),Ma=(a(572),a(278)),Aa=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={numFrames:null,numAtoms:null,currFrame:0},a.loadTraj=function(e){a.traj=e.trajList[0].trajectory,a.setState({numFrames:a.traj.numframes,numAtoms:a.traj.atomCount})},a.setTrajFrame=function(e){e=Math.max(e,0),a.state.numFrames&&(e=Math.min(e,a.state.numFrames-1)),a.traj&&a.traj.setFrame(e),a.setState({currFrame:e})},a.handleChangeText=function(e){var t=parseInt(e.target.value);t?a.setTrajFrame(t):a.setState({currFrame:e.target.value})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){if(this.stage=new Ma.a("viewport",{backgroundColor:"white"}),this.stage.viewer.camera.near=1e-4,this.props.pdbString){var e=new Blob([this.props.pdbString],{type:"text/plain"});this.stage.loadFile(e,{ext:"pdb",defaultRepresentation:!0,asTrajectory:!0}).then(this.loadTraj)}}},{key:"componentDidUpdate",value:function(e){if(this.props.pdbString&&this.props.pdbString!==e.pdbString){this.stage.removeAllComponents();var t=new Blob([this.props.pdbString],{type:"text/plain"});this.stage.loadFile(t,{ext:"pdb",defaultRepresentation:!0,asTrajectory:!0}).then(this.loadTraj)}e.frame!==this.props.frame&&this.setTrajFrame(this.props.frame)}},{key:"componentWillUnmount",value:function(){delete this.stage}},{key:"render",value:function(){var e,t=this.props,a=t.classes,n=(t.className,this.state),l=n.numAtoms,o=n.numFrames,i=n.currFrame,c=o&&o>1,s=(this.props.title?this.props.title:"")+" | "+l+" Atoms | "+o+" Frames";return this.props.pdbString||(s="Data not loaded"),r.a.createElement(ha.a,{className:a.paper},r.a.createElement("div",{className:a.title},s),r.a.createElement("div",{id:"viewport",className:a.viewer}),r.a.createElement("div",{className:a.sliderWrapper},r.a.createElement("div",{className:a.slider},r.a.createElement(za.a,{min:0,max:o-1,onChange:this.setTrajFrame,value:i,disabled:!c})),r.a.createElement("div",{className:a.sliderText},r.a.createElement(Re.a,(e={id:"outlined-bare",value:i,margin:"none",variant:"outlined",type:"number",disabled:!c},Object(y.a)(e,"margin","dense"),Object(y.a)(e,"inputProps",{style:{padding:5}}),Object(y.a)(e,"onChange",this.handleChangeText),e)))))}}]),t}(r.a.Component),Ha=x()({paper:{margin:10,padding:10,backgroundColor:"#EEEEEE"},viewer:{minHeight:"300px"},title:{fontWeight:400},sliderWrapper:{width:"100%",display:"flex"},slider:{width:"75%",paddingTop:15,paddingLeft:"2.5%",paddingRight:"2.5%"},sliderText:{width:"20%"}})(Aa),qa={iconSmall:{padding:0,margin:0,fontSize:12},contentWrapper:{margin:20,minHeight:400},input:{display:"none"},paper:{margin:10,padding:10,backgroundColor:"#EEEEEE"},fullWidth:{width:"100%",height:"100%"},section:{marginBottom:5},greenAvatar:{margin:10,color:"#fff",backgroundColor:_a.a[500]},redAvatar:{margin:10,color:"#fff",backgroundColor:wa.a[500]},center:{height:300,display:"flex",justifyContent:"center",paddingTop:"20%"},title:{fontSize:20,paddingTop:16}},Va=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={activeStep:0,completed:{},groFileName:"",qdataFileName:"",mdpFileName:"",topFileName:"",targetType:"ABINITIO_GMX",groData:null,qdataData:null,mdpData:null,topData:null,finalData:null,confirmDialogOpen:!1},a.handleStep=function(e){return function(){a.setState({activeStep:e})}},a.handleBack=function(){a.setState(function(e){return{activeStep:e.activeStep-1}})},a.handleNext=function(){a.setState(function(e){return{activeStep:e.activeStep+1}})},a.selectGroFile=function(e){var t=e.target.files[0];t&&(a.setState({groFileName:t.name}),a.groFile=t,Me.validate_target_file(a.props.targetName,a.state.targetType,[t],"gro",a.updateGroValidationResult))},a.updateGroValidationResult=function(e){var t=a.state.completed;e&&(t[0]=e.success,a.setState({completed:t,groData:e}))},a.selectQdataFile=function(e){var t=e.target.files[0];t&&(a.setState({qdataFileName:t.name}),a.qdataFile=t,Me.validate_target_file(a.props.targetName,a.state.targetType,[t],"qdata",a.updateQdataValidationResult))},a.updateQdataValidationResult=function(e){var t=a.state.completed;e&&(t[1]=e.success,a.setState({completed:t,qdataData:e}))},a.selectMdpFile=function(e){var t=e.target.files[0];t&&(a.setState({mdpFileName:t.name}),a.mdpFile=t,Me.validate_target_file(a.props.targetName,a.state.targetType,[t],"mdp",a.updateMdpValidationResult))},a.updateMdpValidationResult=function(e){if(e){a.setState({mdpData:e});var t=a.state,n=t.completed,r=t.topData;n[2]=e.success&&r&&r.success,a.setState({completed:n})}},a.selectTopFile=function(e){var t=e.target.files[0];t&&(a.setState({topFileName:t.name}),a.topFile=t,Me.validate_target_file(a.props.targetName,a.state.targetType,[t],"top",a.updateTopValidationResult))},a.updateTopValidationResult=function(e){if(e){a.setState({topData:e});var t=a.state,n=t.completed,r=t.mdpData;n[2]=e.success&&r&&r.success,a.setState({completed:n})}},a.handleFinalValidate=function(){Me.validate_target_create(a.props.targetName,a.updateFinalValidateResult)},a.updateFinalValidateResult=function(e){var t=a.state.completed;e&&(t[3]=e.success,a.setState({completed:t,finalData:e,activeStep:3}))},a.handleAbort=function(){a.state.completed[0]?a.setState({confirmDialogOpen:!0}):a.props.onClose()},a.handleCloseConfirmDialog=function(){a.setState({confirmDialogOpen:!1}),Me.createFittingTarget(a.state.dialogTargetName,a.state.dialogTargetType,a.selectedTargetFiles)},a.handleConfirmDialog=function(){a.setState({confirmDialogOpen:!1}),a.props.onClose()},a.handleCreate=function(){var e=[a.groFile,a.qdataFile,a.mdpFile,a.topFile];a.props.onCreate(e)},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.activeStep,n=t.completed,l=t.groFileName,o=t.qdataFileName,i=t.mdpFileName,c=t.topFileName,s=t.groData,m=t.qdataData,p=t.mdpData,d=t.topData,u=t.finalData,h=t.confirmDialogOpen,g=[];if(a>=0){var f=s?r.a.createElement(ja.a,{label:s.success?"Success":"Failed",deleteIcon:r.a.createElement(Da.a,null),clickable:!1,color:s.success?"primary":"secondary"}):null,b=r.a.createElement(ha.a,{className:e.paper,key:"groInfoCard"},s?r.a.createElement("div",null,r.a.createElement("div",{className:e.section},"gro file validate: ",f),s.n_shots?r.a.createElement("div",{className:e.subsection},"Number of frames: ",s.n_shots):null,s.n_atoms?r.a.createElement("div",{className:e.subsection},"Number of atoms: ",s.n_atoms):null,s.error?r.a.createElement("div",{className:e.subsection},"Error: ",s.error):null):r.a.createElement("div",null,"gro file not uploaded yet"));g.push(b)}if(a>=1){var v=m?r.a.createElement(ja.a,{label:m.success?"Success":"Failed",deleteIcon:r.a.createElement(Da.a,null),clickable:!1,color:m.success?"primary":"secondary"}):null,E=r.a.createElement(ha.a,{className:e.paper,key:"qdataInfoCard"},m?r.a.createElement("div",null,r.a.createElement("div",{className:e.section},"qdata file validate: ",v),m.n_energies?r.a.createElement("div",{className:e.subsection},"Number of QM energies: ",m.n_energies):null,m.n_grads?r.a.createElement("div",{className:e.subsection},"Number of QM gradiants: ",m.n_grads):null,m.error?r.a.createElement("div",{className:e.subsection},"Error: ",m.error):null):r.a.createElement("div",{className:e.section},"qdata file not uploaded yet"));g.push(E)}if(a>=2){var x=p?r.a.createElement(ja.a,{label:p.success?"Success":"Failed",deleteIcon:r.a.createElement(Da.a,null),clickable:!1,color:p.success?"primary":"secondary"}):null,y=r.a.createElement(ha.a,{className:e.paper,key:"mdpInfoCard"},p?r.a.createElement("div",null,r.a.createElement("div",{className:e.section},"mdp file validate: ",x),p.error?r.a.createElement("div",{className:e.subsection},"Error: ",p.error):null):r.a.createElement("div",{className:e.section},"mdp file not uploaded yet"));g.push(y);var k=d?r.a.createElement(ja.a,{label:d.success?"Success":"Failed",deleteIcon:r.a.createElement(Da.a,null),clickable:!1,color:d.success?"primary":"secondary"}):null,C=r.a.createElement(ha.a,{className:e.paper,key:"topInfoCard"},d?r.a.createElement("div",null,r.a.createElement("div",{className:e.section},"top file validate: ",k),s.error?r.a.createElement("div",{className:e.subsection},"Error: ",d.error):null):r.a.createElement("div",{className:e.section},"top file not uploaded yet"));g.push(C)}var O=s?s.pdbString:null,j=r.a.createElement(Ha,{pdbString:O,title:l}),N=r.a.createElement("div",{className:e.fullWidth},r.a.createElement(W.a,{fullWidth:!0},r.a.createElement(M.a,{htmlFor:"gro-file"},"Target Geometry File (.gro)"),r.a.createElement(H.a,{id:"gro-file",value:l,onChange:null,endAdornment:r.a.createElement(Ft.a,{position:"end"},r.a.createElement("input",{type:"file",id:"gro-file-upload",accept:".gro,.GRO",className:e.input,onChange:this.selectGroFile}),r.a.createElement("label",{htmlFor:"gro-file-upload"},r.a.createElement(T.a,{component:"span"},r.a.createElement(Lt.a,null))))})),r.a.createElement("div",{style:{width:"100%",overflow:"auto",paddingTop:15}},r.a.createElement("div",{style:{float:"left",width:"40%"}},g),r.a.createElement("div",{style:{float:"right",width:"60%"}},j))),S=r.a.createElement("div",{className:e.fullWidth},r.a.createElement(W.a,{fullWidth:!0},r.a.createElement(M.a,{htmlFor:"qdata-file"},"Target qdata file (qdata.txt)"),r.a.createElement(H.a,{id:"qdata-file",value:o,onChange:null,endAdornment:r.a.createElement(Ft.a,{position:"end"},r.a.createElement("input",{type:"file",id:"qdata-file-upload",accept:".txt",className:e.input,onChange:this.selectQdataFile}),r.a.createElement("label",{htmlFor:"qdata-file-upload"},r.a.createElement(T.a,{component:"span"},r.a.createElement(Lt.a,null))))})),r.a.createElement("div",{style:{width:"100%",overflow:"auto",paddingTop:15}},r.a.createElement("div",{style:{float:"left",width:"40%"}},g),r.a.createElement("div",{style:{float:"right",width:"60%"}},j))),F=r.a.createElement("div",{className:e.fullWidth},r.a.createElement("div",{style:{width:"100%",display:"flex"}},r.a.createElement("div",{style:{width:"50%"}},r.a.createElement(W.a,{fullWidth:!0},r.a.createElement(M.a,{htmlFor:"mdp-file"},"GMX mdp file (.mdp)"),r.a.createElement(H.a,{id:"mdp-file",value:i,onChange:null,endAdornment:r.a.createElement(Ft.a,{position:"end"},r.a.createElement("input",{type:"file",id:"mdp-file-upload",accept:".mdp",className:e.input,onChange:this.selectMdpFile}),r.a.createElement("label",{htmlFor:"mdp-file-upload"},r.a.createElement(T.a,{component:"span"},r.a.createElement(Lt.a,null)))),style:{width:"90%"}}))),r.a.createElement("div",{style:{width:"50%"}},r.a.createElement(W.a,{fullWidth:!0},r.a.createElement(M.a,{htmlFor:"top-file"},"GMX topology file (.top)"),r.a.createElement(H.a,{id:"top-file",value:c,onChange:null,endAdornment:r.a.createElement(Ft.a,{position:"end"},r.a.createElement("input",{type:"file",id:"top-file-upload",accept:".top",className:e.input,onChange:this.selectTopFile}),r.a.createElement("label",{htmlFor:"top-file-upload"},r.a.createElement(T.a,{component:"span"},r.a.createElement(Lt.a,null)))),style:{width:"90%"}})))),r.a.createElement("div",{style:{width:"100%",overflow:"auto",paddingTop:15}},r.a.createElement("div",{style:{float:"left",width:"40%"}},g),r.a.createElement("div",{style:{float:"right",width:"60%"}},j))),w=r.a.createElement("div",null);if(3===a){var _=u.success,I=r.a.createElement(Sa.a,{className:_?e.greenAvatar:e.redAvatar},_?r.a.createElement(Da.a,null):r.a.createElement(Ra.a,null)),D=r.a.createElement("div",{className:e.title},_?"Congratulations! Target validated succesfully and can be created now":"Oops! "+u.error);w=r.a.createElement("div",{className:e.center},I,D)}var P=[N,S,F,w],R=r.a.createElement(ie.a,{variant:"contained",color:"primary",onClick:this.handleNext,disabled:!n[a]},"Next");a===P.length-2?R=r.a.createElement(ie.a,{variant:"contained",color:"primary",onClick:this.handleFinalValidate,disabled:!n[a]},"Validate"):a===P.length-1&&(R=r.a.createElement(ie.a,{variant:"contained",color:"primary",onClick:this.handleCreate,disabled:!n[a]},"Create"));var z=r.a.createElement(Se.a,{open:h,onClose:this.handleCloseConfirmDialog},r.a.createElement(De.a,null,"Abort the wizard?"),r.a.createElement(_e.a,null,r.a.createElement(kt.a,null,"Abort wizard will lose current progress. Confirm?")),r.a.createElement(we.a,null,r.a.createElement(ie.a,{onClick:this.handleCloseConfirmDialog,color:"default",autoFocus:!0},"Cancel"),r.a.createElement(ie.a,{onClick:this.handleConfirmDialog,color:"secondary"},"Confirm")));return r.a.createElement(Ot.a,null,r.a.createElement(Nt.a,null,r.a.createElement(ht.a,{nonLinear:!0,activeStep:a},r.a.createElement(ft.a,null,r.a.createElement(vt.a,{onClick:this.handleStep(0),completed:n[0],disabled:!0},"Upload Geometry File")),r.a.createElement(ft.a,null,r.a.createElement(vt.a,{onClick:this.handleStep(1),completed:n[1],disabled:!0},"Upload qdata File")),r.a.createElement(ft.a,null,r.a.createElement(vt.a,{onClick:this.handleStep(2),completed:n[2],disabled:!0},"Upload mdp, top File")),r.a.createElement(ft.a,null,r.a.createElement(vt.a,{onClick:this.handleStep(3),completed:n[3],disabled:!0},"Final Test Create"))),r.a.createElement("div",{className:e.contentWrapper},P[a])),r.a.createElement(Ca.a,null,r.a.createElement(ie.a,{onClick:this.handleAbort,variant:"contained",color:"secondary",style:{marginRight:30}},"Abort"),R),z)}}]),t}(r.a.Component),Ba=x()(qa)(Va),La={iconSmall:{padding:0,margin:0,fontSize:12},contentWrapper:{margin:20,minHeight:400},input:{display:"none"},paper:{margin:10,padding:10,backgroundColor:"#EEEEEE"},fullWidth:{width:"100%",height:"100%"},section:{marginBottom:5},greenAvatar:{margin:10,color:"#fff",backgroundColor:_a.a[500]},redAvatar:{margin:10,color:"#fff",backgroundColor:wa.a[500]},center:{height:300,display:"flex",justifyContent:"center",paddingTop:"20%"},title:{fontSize:20,paddingTop:16}},$a=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={activeStep:0,completed:{},mol2FileName:"",pdbFileName:"",qdataFileName:"",coordsFileName:"",targetType:"ABINITIO_SMIRNOFF",mol2Data:null,pdbData:null,qdataData:null,coordsData:null,finalData:null,confirmDialogOpen:!1},a.handleStep=function(e){return function(){a.setState({activeStep:e})}},a.handleBack=function(){a.setState(function(e){return{activeStep:e.activeStep-1}})},a.handleNext=function(){a.setState(function(e){return{activeStep:e.activeStep+1}})},a.selectCoordsFile=function(e){var t=e.target.files[0];t&&(a.setState({coordsFileName:t.name}),a.coordsFile=t,Me.validate_target_file(a.props.targetName,a.state.targetType,[t],"coords",a.updateCoordsValidationResult))},a.updateCoordsValidationResult=function(e){var t=a.state.completed;e&&(t[0]=e.success,a.setState({completed:t,coordsData:e}))},a.selectQdataFile=function(e){var t=e.target.files[0];t&&(a.setState({qdataFileName:t.name}),a.qdataFile=t,Me.validate_target_file(a.props.targetName,a.state.targetType,[t],"qdata",a.updateQdataValidationResult))},a.updateQdataValidationResult=function(e){var t=a.state.completed;e&&(t[1]=e.success,a.setState({completed:t,qdataData:e}))},a.selectMol2File=function(e){var t=e.target.files[0];t&&(a.setState({mol2FileName:t.name}),a.mol2File=t,Me.validate_target_file(a.props.targetName,a.state.targetType,[t],"mol2",a.updateMol2ValidationResult))},a.updateMol2ValidationResult=function(e){if(e){a.setState({mol2Data:e});var t=a.state,n=t.completed,r=t.pdbData;n[2]=e.success&&r&&r.success,a.setState({completed:n})}},a.selectPDBFile=function(e){var t=e.target.files[0];t&&(a.setState({pdbFileName:t.name}),a.pdbFile=t,Me.validate_target_file(a.props.targetName,a.state.targetType,[t],"pdb",a.updatePDBValidationResult))},a.updatePDBValidationResult=function(e){if(e){a.setState({pdbData:e});var t=a.state,n=t.completed,r=t.mol2Data;n[2]=e.success&&r&&r.success,a.setState({completed:n})}},a.handleFinalValidate=function(){Me.validate_target_create(a.props.targetName,a.updateFinalValidateResult)},a.updateFinalValidateResult=function(e){var t=a.state.completed;e&&(t[3]=e.success,a.setState({completed:t,finalData:e,activeStep:3}))},a.handleAbort=function(){a.state.completed[0]?a.setState({confirmDialogOpen:!0}):a.props.onClose()},a.handleCloseConfirmDialog=function(){a.setState({confirmDialogOpen:!1}),Me.createFittingTarget(a.state.dialogTargetName,a.state.dialogTargetType,a.selectedTargetFiles)},a.handleConfirmDialog=function(){a.setState({confirmDialogOpen:!1}),a.props.onClose()},a.handleCreate=function(){var e=[a.coordsFile,a.qdataFile,a.mol2File,a.pdbFile];a.props.onCreate(e)},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.activeStep,n=t.completed,l=t.coordsFileName,o=t.qdataFileName,i=t.mol2FileName,c=t.pdbFileName,s=t.coordsData,m=t.qdataData,p=t.mol2Data,d=t.pdbData,u=t.finalData,h=t.confirmDialogOpen,g=[];if(a>=0){var f=s?r.a.createElement(ja.a,{label:s.success?"Success":"Failed",deleteIcon:r.a.createElement(Da.a,null),clickable:!1,color:s.success?"primary":"secondary"}):null,b=r.a.createElement(ha.a,{className:e.paper,key:"coordsInfoCard"},s?r.a.createElement("div",null,r.a.createElement("div",{className:e.section},"coords file validate: ",f),s.n_shots?r.a.createElement("div",{className:e.subsection},"Number of frames: ",s.n_shots):null,s.n_atoms?r.a.createElement("div",{className:e.subsection},"Number of atoms: ",s.n_atoms):null,s.error?r.a.createElement("div",{className:e.subsection},"Error: ",s.error):null):r.a.createElement("div",null,"coords file not uploaded yet"));g.push(b)}if(a>=1){var v=m?r.a.createElement(ja.a,{label:m.success?"Success":"Failed",deleteIcon:r.a.createElement(Da.a,null),clickable:!1,color:m.success?"primary":"secondary"}):null,E=r.a.createElement(ha.a,{className:e.paper,key:"qdataInfoCard"},m?r.a.createElement("div",null,r.a.createElement("div",{className:e.section},"qdata file validate: ",v),m.n_energies?r.a.createElement("div",{className:e.subsection},"Number of QM energies: ",m.n_energies):null,m.n_grads?r.a.createElement("div",{className:e.subsection},"Number of QM gradiants: ",m.n_grads):null,m.error?r.a.createElement("div",{className:e.subsection},"Error: ",m.error):null):r.a.createElement("div",{className:e.section},"qdata file not uploaded yet"));g.push(E)}if(a>=2){var x=p?r.a.createElement(ja.a,{label:p.success?"Success":"Failed",deleteIcon:r.a.createElement(Da.a,null),clickable:!1,color:p.success?"primary":"secondary"}):null,y=r.a.createElement(ha.a,{className:e.paper,key:"mol2InfoCard"},p?r.a.createElement("div",null,r.a.createElement("div",{className:e.section},"mol2 file validate: ",x),p.error?r.a.createElement("div",{className:e.subsection},"Error: ",p.error):null):r.a.createElement("div",{className:e.section},"mol2 file not uploaded yet"));g.push(y);var k=d?r.a.createElement(ja.a,{label:d.success?"Success":"Failed",deleteIcon:r.a.createElement(Da.a,null),clickable:!1,color:d.success?"primary":"secondary"}):null,C=r.a.createElement(ha.a,{className:e.paper,key:"pdbInfoCard"},d?r.a.createElement("div",null,r.a.createElement("div",{className:e.section},"pdb file validate: ",k),s.error?r.a.createElement("div",{className:e.subsection},"Error: ",d.error):null):r.a.createElement("div",{className:e.section},"pdb file not uploaded yet"));g.push(C)}var O=s?s.pdbString:null,j=r.a.createElement(Ha,{pdbString:O}),N=r.a.createElement("div",{className:e.fullWidth},r.a.createElement(W.a,{fullWidth:!0},r.a.createElement(M.a,{htmlFor:"coords-file"},"Target Geometry File (.xyz or .gro)"),r.a.createElement(H.a,{id:"coords-file",value:l,onChange:null,endAdornment:r.a.createElement(Ft.a,{position:"end"},r.a.createElement("input",{type:"file",id:"coords-file-upload",accept:".xyz,.XYZ,.gro,.GRO",className:e.input,onChange:this.selectCoordsFile}),r.a.createElement("label",{htmlFor:"coords-file-upload"},r.a.createElement(T.a,{component:"span"},r.a.createElement(Lt.a,null))))})),r.a.createElement("div",{style:{width:"100%",overflow:"auto",paddingTop:15}},r.a.createElement("div",{style:{float:"left",width:"40%"}},g),r.a.createElement("div",{style:{float:"right",width:"60%"}},j))),S=r.a.createElement("div",{className:e.fullWidth},r.a.createElement(W.a,{fullWidth:!0},r.a.createElement(M.a,{htmlFor:"qdata-file"},"Target qdata file (qdata.txt)"),r.a.createElement(H.a,{id:"qdata-file",value:o,onChange:null,endAdornment:r.a.createElement(Ft.a,{position:"end"},r.a.createElement("input",{type:"file",id:"qdata-file-upload",accept:".txt",className:e.input,onChange:this.selectQdataFile}),r.a.createElement("label",{htmlFor:"qdata-file-upload"},r.a.createElement(T.a,{component:"span"},r.a.createElement(Lt.a,null))))})),r.a.createElement("div",{style:{width:"100%",overflow:"auto",paddingTop:15}},r.a.createElement("div",{style:{float:"left",width:"40%"}},g),r.a.createElement("div",{style:{float:"right",width:"60%"}},j))),F=r.a.createElement("div",{className:e.fullWidth},r.a.createElement("div",{style:{width:"100%",display:"flex"}},r.a.createElement("div",{style:{width:"50%"}},r.a.createElement(W.a,{fullWidth:!0},r.a.createElement(M.a,{htmlFor:"mol2-file"},"GMX mol2 file (.mol2)"),r.a.createElement(H.a,{id:"mol2-file",value:i,onChange:null,endAdornment:r.a.createElement(Ft.a,{position:"end"},r.a.createElement("input",{type:"file",id:"mol2-file-upload",accept:".mol2",className:e.input,onChange:this.selectMol2File}),r.a.createElement("label",{htmlFor:"mol2-file-upload"},r.a.createElement(T.a,{component:"span"},r.a.createElement(Lt.a,null)))),style:{width:"90%"}}))),r.a.createElement("div",{style:{width:"50%"}},r.a.createElement(W.a,{fullWidth:!0},r.a.createElement(M.a,{htmlFor:"pdb-file"},"OpenMM pdb file (.pdb)"),r.a.createElement(H.a,{id:"pdb-file",value:c,onChange:null,endAdornment:r.a.createElement(Ft.a,{position:"end"},r.a.createElement("input",{type:"file",id:"pdb-file-upload",accept:".pdb",className:e.input,onChange:this.selectPDBFile}),r.a.createElement("label",{htmlFor:"pdb-file-upload"},r.a.createElement(T.a,{component:"span"},r.a.createElement(Lt.a,null)))),style:{width:"90%"}})))),r.a.createElement("div",{style:{width:"100%",overflow:"auto",paddingTop:15}},r.a.createElement("div",{style:{float:"left",width:"40%"}},g),r.a.createElement("div",{style:{float:"right",width:"60%"}},j))),w=r.a.createElement("div",null);if(3===a){var _=u.success,I=r.a.createElement(Sa.a,{className:_?e.greenAvatar:e.redAvatar},_?r.a.createElement(Da.a,null):r.a.createElement(Ra.a,null)),D=r.a.createElement("div",{className:e.title},_?"Congratulations! Target validated succesfully and can be created now":"Oops! "+u.error);w=r.a.createElement("div",{className:e.center},I,D)}var P=[N,S,F,w],R=r.a.createElement(ie.a,{variant:"contained",color:"primary",onClick:this.handleNext,disabled:!n[a]},"Next");a===P.length-2?R=r.a.createElement(ie.a,{variant:"contained",color:"primary",onClick:this.handleFinalValidate,disabled:!n[a]},"Validate"):a===P.length-1&&(R=r.a.createElement(ie.a,{variant:"contained",color:"primary",onClick:this.handleCreate,disabled:!n[a]},"Create"));var z=r.a.createElement(Se.a,{open:h,onClose:this.handleCloseConfirmDialog},r.a.createElement(De.a,null,"Abort the wizard?"),r.a.createElement(_e.a,null,r.a.createElement(kt.a,null,"Abort wizard will lose current progress. Confirm?")),r.a.createElement(we.a,null,r.a.createElement(ie.a,{onClick:this.handleCloseConfirmDialog,color:"default",autoFocus:!0},"Cancel"),r.a.createElement(ie.a,{onClick:this.handleConfirmDialog,color:"secondary"},"Confirm")));return r.a.createElement(Ot.a,null,r.a.createElement(Nt.a,null,r.a.createElement(ht.a,{nonLinear:!0,activeStep:a},r.a.createElement(ft.a,null,r.a.createElement(vt.a,{onClick:this.handleStep(0),completed:n[0],disabled:!0},"Upload Geometry File")),r.a.createElement(ft.a,null,r.a.createElement(vt.a,{onClick:this.handleStep(1),completed:n[1],disabled:!0},"Upload qdata File")),r.a.createElement(ft.a,null,r.a.createElement(vt.a,{onClick:this.handleStep(2),completed:n[2],disabled:!0},"Upload mol2, pdb File")),r.a.createElement(ft.a,null,r.a.createElement(vt.a,{onClick:this.handleStep(3),completed:n[3],disabled:!0},"Final Test Create"))),r.a.createElement("div",{className:e.contentWrapper},P[a])),r.a.createElement(Ca.a,null,r.a.createElement(ie.a,{onClick:this.handleAbort,variant:"contained",color:"secondary",style:{marginRight:30}},"Abort"),R),z)}}]),t}(r.a.Component),Qa=x()(La)($a),Ua=a(23),Ga=a(54),Ja=a.n(Ga),Xa=a(66),Ya=a.n(Xa),Za=a(40),Ka=a.n(Za),en=a(74),tn=a.n(en),an=a(44),nn=a.n(an),rn=a(47),ln=a.n(rn),on=a(65),cn=a.n(on),sn=a(46),mn=a.n(sn),pn=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={targetData:null,currFrame:0,tabValue:0,targetOptions:null},a.updateTargetData=function(e){a.setState({targetData:e})},a.updateTargetOptions=function(e){a.setState({targetOptions:e})},a.handleChangeTabValue=function(e,t){a.setState({tabValue:t})},a.handlePlotClick=function(e){a.setState({currFrame:e.points[0].pointIndex})},a.handleSetTargetOption=function(e){var t=e.target.name,n=e.target.value;"number"===e.target.type?""!==n&&(n=parseFloat(e.target.value),isNaN(n)||Me.setTargetOptions(a.props.targetName,Object(y.a)({},t,n))):Me.setTargetOptions(a.props.targetName,Object(y.a)({},t,n));var r=a.state.targetOptions;r[t]=n,a.setState({targetOptions:r})},a.handleOptionCheckBox=function(e){return function(t){var n=t.target.checked;Me.setTargetOptions(a.props.targetName,Object(y.a)({},e,n));var r=a.state.targetOptions;r[e]=n,a.setState({targetOptions:r})}},a.isValidWeight=function(e){return""!==e&&!isNaN(e)&&parseFloat(e)>=0},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.targetName;e&&(Me.getTargetData(e,this.updateTargetData),Me.getTargetOptions(e,this.updateTargetOptions))}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.targetName,n=this.state,l=n.targetData,o=n.targetOptions,i=n.currFrame,c=n.tabValue,s=o?r.a.createElement("div",{className:t.tabContent},r.a.createElement(Mt.a,{container:!0},r.a.createElement(Jt,{xs:3,sm:3,md:3},r.a.createElement(Re.a,{name:"targetName",label:"Target Name",onChange:null,value:o.name,disabled:!0})),r.a.createElement(Jt,{xs:3,sm:3,md:3},r.a.createElement(Re.a,{name:"targetType",label:"Target Type",onChange:null,value:o.type,disabled:!0})),r.a.createElement(Jt,{xs:3,sm:3,md:3},r.a.createElement(Re.a,{name:"weight",type:"number",label:"Target Weight",onChange:this.handleSetTargetOption,value:o.weight,error:!this.isValidWeight(o.weight)})),r.a.createElement(Jt,{xs:12,sm:12,md:12},r.a.createElement(tn.a,{className:t.divider})),r.a.createElement(Jt,{xs:3,sm:3,md:3},r.a.createElement(da.a,{className:t.dividerFullWidth,color:"textSecondary",variant:"caption"},"coords"),r.a.createElement(ja.a,{key:o.coords,label:o.coords})),r.a.createElement(Jt,{xs:3,sm:3,md:3},r.a.createElement(da.a,{className:t.dividerFullWidth,color:"textSecondary",variant:"caption"},"qdata"),r.a.createElement(ja.a,{key:"qdata.txt",label:"qdata.txt"})),r.a.createElement(Jt,{xs:3,sm:3,md:3},r.a.createElement(da.a,{className:t.dividerFullWidth,color:"textSecondary",variant:"caption"},"top"),r.a.createElement(ja.a,{key:o.gmx_top,label:o.gmx_top})),r.a.createElement(Jt,{xs:3,sm:3,md:3},r.a.createElement(da.a,{className:t.dividerFullWidth,color:"textSecondary",variant:"caption"},"mdp"),r.a.createElement(ja.a,{key:o.gmx_mdp,label:o.gmx_mdp})),r.a.createElement(Jt,{xs:12,sm:12,md:12},r.a.createElement(tn.a,{className:t.divider})),r.a.createElement(Jt,{xs:3,sm:3,md:3},r.a.createElement(ln.a,{control:r.a.createElement(nn.a,{checked:o.energy,onChange:this.handleOptionCheckBox("energy"),color:"primary"}),label:"Fit Energy"})),r.a.createElement(Jt,{xs:3,sm:3,md:3},r.a.createElement(Re.a,{name:"w_energy",type:"number",label:"Energy Weight",onChange:this.handleSetTargetOption,value:o.w_energy,error:!this.isValidWeight(o.w_energy),disabled:!o.energy})),r.a.createElement(Jt,{xs:2,sm:2,md:2},r.a.createElement(ln.a,{control:r.a.createElement(nn.a,{checked:o.attenuate,onChange:this.handleOptionCheckBox("attenuate"),color:"primary",disabled:!o.energy}),label:"Attenuate"})),r.a.createElement(Jt,{xs:2,sm:2,md:2},r.a.createElement(Re.a,{name:"energy_denom",type:"number",label:"Energy Demoninator",onChange:this.handleSetTargetOption,value:o.energy_denom,error:!this.isValidWeight(o.energy_denom),disabled:!o.energy||!o.attenuate})),r.a.createElement(Jt,{xs:2,sm:2,md:2},r.a.createElement(Re.a,{name:"energy_upper",type:"number",label:"Energy Upper Limit",onChange:this.handleSetTargetOption,value:o.energy_upper,error:!this.isValidWeight(o.energy_upper),disabled:!o.energy||!o.attenuate})),r.a.createElement(Jt,{xs:12,sm:12,md:12},r.a.createElement(tn.a,{className:t.divider})),r.a.createElement(Jt,{xs:3,sm:3,md:3},r.a.createElement(ln.a,{control:r.a.createElement(nn.a,{checked:o.force,onChange:this.handleOptionCheckBox("force"),color:"primary"}),label:"Fit Force"})),r.a.createElement(Jt,{xs:3,sm:3,md:3},r.a.createElement(Re.a,{name:"w_force",type:"number",label:"Force Weight",onChange:this.handleSetTargetOption,value:o.w_force,error:!this.isValidWeight(o.w_force),disabled:!o.force})),r.a.createElement(Jt,{xs:2,sm:2,md:2},r.a.createElement(Re.a,{name:"force_rms_override",type:"number",label:"Force RMS Override",onChange:this.handleSetTargetOption,value:o.force_rms_override,error:parseFloat(o.force_rms_override)<0,disabled:!o.force})))):r.a.createElement("div",null),m=r.a.createElement(Ha,{pdbString:l?l.pdbString:null,title:o?o.coords:"Geometries",frame:i}),p=r.a.createElement("div",null);if(l&&l.qm_energies&&l.qm_energies.length>0){var d=Object(Ua.a)(Array(l.qm_energies.length).keys());p=r.a.createElement(mn.a,{data:[{x:d,y:l.qm_energies,mode:"lines+markers",name:"QM Energy"}],style:{width:"100%",height:"100%"},layout:{title:"QM Relative Energies in qdata.txt",xaxis:{title:"Frame Number"},yaxis:{title:"Relative Energies [ kJ/mol ]"},showlegend:!1,margin:{l:40,r:40,t:60,b:40},hovermode:"closest"},onClick:this.handlePlotClick})}var u=[s,r.a.createElement("div",{className:t.tabContent},r.a.createElement("div",{style:{float:"left",width:"60%",overflow:"auto"}},p),r.a.createElement("div",{style:{float:"right",width:"40%"}},m))];return r.a.createElement(Ot.a,null,r.a.createElement(Ja.a,{className:t.header,action:r.a.createElement(T.a,{color:"secondary",onClick:this.props.onClose},r.a.createElement(cn.a,{fontSize:"large"})),title:a}),r.a.createElement(Nt.a,{className:t.cardContent},r.a.createElement(Ya.a,{value:c,onChange:this.handleChangeTabValue,fullWidth:!0,indicatorColor:"primary"},r.a.createElement(Ka.a,{value:0,label:"Target Options"}),r.a.createElement(Ka.a,{value:1,label:"Target Details"})),u[c]))}}]),t}(r.a.Component),dn=x()({header:{paddingBottom:10},cardContent:{paddingTop:0},tabContent:{width:"100%",overflow:"auto",paddingTop:25,minHeight:"400px"},divider:{marginTop:"25px",marginBottom:"25px"},dividerFullWidth:{margin:"5px 0 0 6px"}})(pn),un=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={targetData:null,currFrame:0,tabValue:0,targetOptions:null},a.updateTargetData=function(e){a.setState({targetData:e})},a.updateTargetOptions=function(e){a.setState({targetOptions:e})},a.handleChangeTabValue=function(e,t){a.setState({tabValue:t})},a.handlePlotClick=function(e){a.setState({currFrame:e.points[0].pointIndex})},a.handleSetTargetOption=function(e){var t=e.target.name,n=e.target.value;"number"===e.target.type?""!==n&&(n=parseFloat(e.target.value),isNaN(n)||Me.setTargetOptions(a.props.targetName,Object(y.a)({},t,n))):Me.setTargetOptions(a.props.targetName,Object(y.a)({},t,n));var r=a.state.targetOptions;r[t]=n,a.setState({targetOptions:r})},a.handleOptionCheckBox=function(e){return function(t){var n=t.target.checked;Me.setTargetOptions(a.props.targetName,Object(y.a)({},e,n));var r=a.state.targetOptions;r[e]=n,a.setState({targetOptions:r})}},a.isValidWeight=function(e){return""!==e&&!isNaN(e)&&parseFloat(e)>=0},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.targetName;e&&(Me.getTargetData(e,this.updateTargetData),Me.getTargetOptions(e,this.updateTargetOptions))}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.targetName,n=this.state,l=n.targetData,o=n.targetOptions,i=n.currFrame,c=n.tabValue,s=o?r.a.createElement("div",{className:t.tabContent},r.a.createElement(Mt.a,{container:!0},r.a.createElement(Jt,{xs:3,sm:3,md:3},r.a.createElement(Re.a,{name:"targetName",label:"Target Name",onChange:null,value:o.name,disabled:!0})),r.a.createElement(Jt,{xs:3,sm:3,md:3},r.a.createElement(Re.a,{name:"targetType",label:"Target Type",onChange:null,value:o.type,disabled:!0})),r.a.createElement(Jt,{xs:3,sm:3,md:3},r.a.createElement(Re.a,{name:"weight",type:"number",label:"Target Weight",onChange:this.handleSetTargetOption,value:o.weight,error:!this.isValidWeight(o.weight)})),r.a.createElement(Jt,{xs:12,sm:12,md:12},r.a.createElement(tn.a,{className:t.divider})),r.a.createElement(Jt,{xs:3,sm:3,md:3},r.a.createElement(da.a,{className:t.dividerFullWidth,color:"textSecondary",variant:"caption"},"coords"),r.a.createElement(ja.a,{key:o.coords,label:o.coords})),r.a.createElement(Jt,{xs:3,sm:3,md:3},r.a.createElement(da.a,{className:t.dividerFullWidth,color:"textSecondary",variant:"caption"},"qdata"),r.a.createElement(ja.a,{key:"qdata.txt",label:"qdata.txt"})),r.a.createElement(Jt,{xs:3,sm:3,md:3},r.a.createElement(da.a,{className:t.dividerFullWidth,color:"textSecondary",variant:"caption"},"mol2"),r.a.createElement(ja.a,{key:o.mol2,label:o.mol2})),r.a.createElement(Jt,{xs:3,sm:3,md:3},r.a.createElement(da.a,{className:t.dividerFullWidth,color:"textSecondary",variant:"caption"},"pdb"),r.a.createElement(ja.a,{key:o.pdb,label:o.pdb})),r.a.createElement(Jt,{xs:12,sm:12,md:12},r.a.createElement(tn.a,{className:t.divider})),r.a.createElement(Jt,{xs:3,sm:3,md:3},r.a.createElement(ln.a,{control:r.a.createElement(nn.a,{checked:o.energy,onChange:this.handleOptionCheckBox("energy"),color:"primary"}),label:"Fit Energy"})),r.a.createElement(Jt,{xs:3,sm:3,md:3},r.a.createElement(Re.a,{name:"w_energy",type:"number",label:"Energy Weight",onChange:this.handleSetTargetOption,value:o.w_energy,error:!this.isValidWeight(o.w_energy),disabled:!o.energy})),r.a.createElement(Jt,{xs:2,sm:2,md:2},r.a.createElement(ln.a,{control:r.a.createElement(nn.a,{checked:o.attenuate,onChange:this.handleOptionCheckBox("attenuate"),color:"primary",disabled:!o.energy}),label:"Attenuate"})),r.a.createElement(Jt,{xs:2,sm:2,md:2},r.a.createElement(Re.a,{name:"energy_denom",type:"number",label:"Energy Demoninator",onChange:this.handleSetTargetOption,value:o.energy_denom,error:!this.isValidWeight(o.energy_denom),disabled:!o.energy||!o.attenuate})),r.a.createElement(Jt,{xs:2,sm:2,md:2},r.a.createElement(Re.a,{name:"energy_upper",type:"number",label:"Energy Upper Limit",onChange:this.handleSetTargetOption,value:o.energy_upper,error:!this.isValidWeight(o.energy_upper),disabled:!o.energy||!o.attenuate})),r.a.createElement(Jt,{xs:12,sm:12,md:12},r.a.createElement(tn.a,{className:t.divider})),r.a.createElement(Jt,{xs:3,sm:3,md:3},r.a.createElement(ln.a,{control:r.a.createElement(nn.a,{checked:o.force,onChange:this.handleOptionCheckBox("force"),color:"primary"}),label:"Fit Force"})),r.a.createElement(Jt,{xs:3,sm:3,md:3},r.a.createElement(Re.a,{name:"w_force",type:"number",label:"Force Weight",onChange:this.handleSetTargetOption,value:o.w_force,error:!this.isValidWeight(o.w_force),disabled:!o.force})),r.a.createElement(Jt,{xs:2,sm:2,md:2},r.a.createElement(Re.a,{name:"force_rms_override",type:"number",label:"Force RMS Override",onChange:this.handleSetTargetOption,value:o.force_rms_override,error:parseFloat(o.force_rms_override)<0,disabled:!o.force})))):r.a.createElement("div",null),m=r.a.createElement(Ha,{pdbString:l?l.pdbString:null,title:o?o.coords:"Geometries",frame:i}),p=r.a.createElement("div",null);if(l&&l.qm_energies&&l.qm_energies.length>0){var d=Object(Ua.a)(Array(l.qm_energies.length).keys());p=r.a.createElement(mn.a,{data:[{x:d,y:l.qm_energies,mode:"lines+markers",name:"QM Energy"}],style:{width:"100%",height:"100%"},layout:{title:"QM Relative Energies in qdata.txt",xaxis:{title:"Frame Number"},yaxis:{title:"Relative Energies [ kJ/mol ]"},showlegend:!1,margin:{l:40,r:40,t:60,b:40},hovermode:"closest"},onClick:this.handlePlotClick})}var u=[s,r.a.createElement("div",{className:t.tabContent},r.a.createElement("div",{style:{float:"left",width:"60%",overflow:"auto"}},p),r.a.createElement("div",{style:{float:"right",width:"40%"}},m))];return r.a.createElement(Ot.a,null,r.a.createElement(Ja.a,{className:t.header,action:r.a.createElement(T.a,{color:"secondary",onClick:this.props.onClose},r.a.createElement(cn.a,{fontSize:"large"})),title:a}),r.a.createElement(Nt.a,{className:t.cardContent},r.a.createElement(Ya.a,{value:c,onChange:this.handleChangeTabValue,fullWidth:!0,indicatorColor:"primary"},r.a.createElement(Ka.a,{value:0,label:"Target Options"}),r.a.createElement(Ka.a,{value:1,label:"Target Details"})),u[c]))}}]),t}(r.a.Component),hn=x()({header:{paddingBottom:10},cardContent:{paddingTop:0},tabContent:{width:"100%",overflow:"auto",paddingTop:25,minHeight:"400px"},divider:{marginTop:"25px",marginBottom:"25px"},dividerFullWidth:{margin:"5px 0 0 6px"}})(un),gn={ABINITIO_GMX:Ba,ABINITIO_SMIRNOFF:Qa},fn={ABINITIO_GMX:dn,ABINITIO_SMIRNOFF:hn},bn=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={targetsInfo:{},dialogOpen:!1,dialogTargetName:"",dialogTargetType:"",wizardOpen:!1,optDialogTargetName:"",optDialogTargetType:"",optDialogOpen:!1},a.update=function(){Me.getAllTargetsInfo(a.updateTargetsInfo)},a.updateTargetsInfo=function(e){a.setState({targetsInfo:e})},a.handleOpenDialog=function(){a.setState({dialogOpen:!0})},a.handleCloseDialog=function(){a.setState({dialogOpen:!1})},a.handleChange=function(e){return function(t){a.setState(Object(y.a)({},e,t.target.value))}},a.handleCreateTarget=function(e){Me.createFittingTarget(a.state.dialogTargetName,a.state.dialogTargetType,e,a.update),a.resetDialog()},a.handleDeleteTarget=function(e){return function(){Me.deleteFittingTarget(e),a.update()}},a.resetDialog=function(){a.setState({dialogOpen:!1,dialogTargetName:"",dialogTargetType:"",wizardOpen:!1})},a.handleLaunchWizard=function(){a.setState({dialogOpen:!1,wizardOpen:!0})},a.handleCloseWizard=function(){a.setState({wizardOpen:!1})},a.handleTargetRowClick=function(e,t){var n=a.state.targetsInfo,r=Object.keys(n);if(t<r.length){var l=r[t],o=n[l];a.setState({optDialogTargetName:l,optDialogTargetType:o.type,optDialogOpen:!0})}},a.handleCloseTgtOptDialog=function(){a.setState({optDialogOpen:!1}),a.update()},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){Me.onChangeProjectName(this.update),this.update()}},{key:"componentWillUnmount",value:function(){Me.removeOnChangeProjectName(this.update)}},{key:"render",value:function(){for(var e=this.props.classes,t=this.state,a=t.targetsInfo,n=t.dialogOpen,l=t.dialogTargetName,o=t.dialogTargetType,i=t.wizardOpen,c=t.optDialogTargetName,s=t.optDialogTargetType,m=t.optDialogOpen,p=this.props.status===Ve.running,d=(l in a),u=/^\w+$/.test(l),h=Object.keys(gn),g=r.a.createElement(Se.a,{open:n,onClose:this.handleCloseDialog,fullWidth:!0},r.a.createElement(De.a,null,"Create New Target"),r.a.createElement(_e.a,null,r.a.createElement(Mt.a,{container:!0},r.a.createElement(Jt,{xs:6,sm:6,md:6},r.a.createElement(Re.a,{autoFocus:!0,fullWidth:!0,label:"Target Name",margin:"normal",value:l,onChange:this.handleChange("dialogTargetName"),error:!u||d,helperText:u?d?"Target name exists":"Target name available":"Invalid target name"})),r.a.createElement(Jt,{xs:6,sm:6,md:6},r.a.createElement(Re.a,{id:"select-target-type",select:!0,fullWidth:!0,margin:"normal",label:"Target Type",value:o,onChange:this.handleChange("dialogTargetType"),error:!o},h.map(function(e){return r.a.createElement(ge.a,{key:e,value:e},e)}))))),r.a.createElement(we.a,null,r.a.createElement(se,{onClick:this.handleCloseDialog},"Cancel"),r.a.createElement(se,{onClick:this.handleLaunchWizard,disabled:!u||d||!o,color:"success"},"Launch Target Wizard"))),f=gn[o],b=i?r.a.createElement(Se.a,{open:i,maxWidth:"md",fullWidth:!0,scroll:"body"},r.a.createElement(f,{targetName:l,onClose:this.handleCloseWizard,onCreate:this.handleCreateTarget})):r.a.createElement("div",null),v=[],E=0,x=Object.entries(a),y=0;y<x.length;y++){var k=x[y],C=Object(ya.a)(k,2),O=C[0],j=C[1];v.push([E.toString(),O,j.type,j.weight]),E+=1}var N=fn[s],S=m?r.a.createElement(Se.a,{open:m,maxWidth:"lg",fullWidth:!0,scroll:"body"},r.a.createElement(N,{targetName:c,onClose:this.handleCloseTgtOptDialog})):r.a.createElement("div",null);return r.a.createElement(Ot.a,{elevation:0},r.a.createElement(Nt.a,null,r.a.createElement("div",{className:e.title},"Add targets then click to change target options"),r.a.createElement(va,{tableHead:["#","Name","Type","Weight"],data:v,handleRowClick:this.handleTargetRowClick}),r.a.createElement(se,{onClick:this.handleOpenDialog,disabled:p,color:"success"},r.a.createElement(Qt.a,null),"Create New Target")),g,b,S)}}]),t}(r.a.Component),vn=x()({input:{display:"none"},title:{marginBottom:16,fontSize:14},header:{padding:10,paddingLeft:"2%",paddingRight:"6%"}})(bn),En=a(109),xn=a.n(En),yn=a(279),kn=a.n(yn);var Cn=Object(Xt.withStyles)({})(function(e){return r.a.createElement(Ht.a,{title:e.hint,placement:"top"},r.a.createElement(T.a,{onClick:e.onClick},r.a.createElement(kn.a,{fontSize:"small"})))}),On=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={jobtype:"NEWTON",maxstep:10,penalty_type:"L2",convergence_objective:1e-4,convergence_step:1e-4,convergence_gradient:.001,trust0:.1,finite_difference_h:.001,asynchronous:!1,wq_port:0,wqStatus:{code:"not_connected"}},a.update=function(){Me.getOptimizerOptions(a.updateOptimizerOptions),Me.getWorkQueueStatus(a.updateWorkQueueStatus)},a.updateOptimizerOptions=function(e){e&&a.setState(e)},a.updateWorkQueueStatus=function(e){a.setState({wqStatus:e})},a.handleSetOption=function(e){var t=Object(y.a)({},e.target.name,e.target.value);Me.setOptimizerOptions(t),a.setState(t)},a.handleCheckAync=function(e){var t={asynchronous:e.target.checked};Me.setOptimizerOptions(t),a.setState(t)},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){Me.onChangeProjectName(this.update),this.update()}},{key:"componentWillUnmount",value:function(){Me.removeOnChangeProjectName(this.update)}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.jobtype,n=t.maxstep,l=t.penalty_type,o=t.convergence_objective,i=t.convergence_step,c=t.convergence_gradient,s=t.trust0,m=t.finite_difference_h,p=t.asynchronous,d=t.wq_port,u=t.wqStatus;return r.a.createElement(Ot.a,{elevation:0},r.a.createElement(Nt.a,null,r.a.createElement("div",{className:e.title},"Choose optimizer options"),r.a.createElement(Mt.a,{container:!0},r.a.createElement(Jt,{xs:4,sm:4,md:4},r.a.createElement(W.a,{fullWidth:!0,margin:"normal"},r.a.createElement(M.a,{htmlFor:"job-type"},"Job Type"),r.a.createElement(xn.a,{value:a,onChange:this.handleSetOption,input:r.a.createElement(H.a,{name:"jobtype",id:"job-type"})},r.a.createElement(ge.a,{value:"OPTIMIZE"},"Optimize"),r.a.createElement(ge.a,{value:"SINGLE"},"Single"),r.a.createElement(ge.a,{value:"GRADIENT"},"Gradient")))),r.a.createElement(Jt,{xs:4,sm:4,md:4},r.a.createElement(Re.a,{name:"maxstep",type:"number",label:"Max Steps",onChange:this.handleSetOption,value:n,error:n<=0,fullWidth:!0,InputLabelProps:{shrink:!0},margin:"normal"})),r.a.createElement(Jt,{xs:4,sm:4,md:4},r.a.createElement(W.a,{fullWidth:!0,margin:"normal"},r.a.createElement(M.a,{htmlFor:"penalty-type",shrink:!0},"Penalty Type"),r.a.createElement(xn.a,{value:l,onChange:this.handleSetOption,input:r.a.createElement(H.a,{name:"penalty_type",id:"penalty-type"})},r.a.createElement(ge.a,{value:"L1"},"L1"),r.a.createElement(ge.a,{value:"L2"},"L2")))),r.a.createElement(Jt,{xs:4,sm:4,md:4},r.a.createElement(Re.a,{name:"convergence_objective",type:"number",label:"Convergence Objective",onChange:this.handleSetOption,value:o,error:o<=0,fullWidth:!0,InputLabelProps:{shrink:!0},margin:"normal"})),r.a.createElement(Jt,{xs:4,sm:4,md:4},r.a.createElement(Re.a,{name:"convergence_step",type:"number",label:"Convergence Step",onChange:this.handleSetOption,value:i,error:i<=0,fullWidth:!0,InputLabelProps:{shrink:!0},margin:"normal"})),r.a.createElement(Jt,{xs:4,sm:4,md:4},r.a.createElement(Re.a,{name:"convergence_gradient",type:"number",label:"Convergence Gradient",onChange:this.handleSetOption,value:c,error:c<=0,fullWidth:!0,InputLabelProps:{shrink:!0},margin:"normal"})),r.a.createElement(Jt,{xs:4,sm:4,md:4},r.a.createElement(Re.a,{name:"trust0",type:"number",label:"Trust Radius",onChange:this.handleSetOption,value:s,error:isNaN(s),fullWidth:!0,InputLabelProps:{shrink:!0},margin:"normal"})),r.a.createElement(Jt,{xs:4,sm:4,md:4},r.a.createElement(Re.a,{name:"finite_difference_h",type:"number",label:"Finite Difference Step Size",onChange:this.handleSetOption,value:m,error:m<=0,fullWidth:!0,InputLabelProps:{shrink:!0},margin:"normal"})))),r.a.createElement(Nt.a,null,r.a.createElement(Mt.a,{container:!0},r.a.createElement(Jt,{xs:4,sm:4,md:4},r.a.createElement(ln.a,{control:r.a.createElement(nn.a,{checked:p,onChange:this.handleCheckAync,color:"primary",disabled:"ready"!==u.code}),label:"Enable Async Target Evaluation"}),r.a.createElement(Cn,{hint:"See Work Queue page for more info"})),r.a.createElement(Jt,{xs:4,sm:4,md:4},r.a.createElement(Re.a,{name:"wq_port",type:"number",label:"Work Queue Port",onChange:this.handleSetOption,value:d,fullWidth:!0,InputLabelProps:{shrink:!0},margin:"normal",disabled:!p,error:d<=0&&p})))))}}]),t}(r.a.Component),jn=x()({title:{marginBottom:16,fontSize:14}})(On),Nn=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).update=function(){Me.pullStatus()},a.updateStatus=function(e){a.setState({status:e.status})},a.resetOptimizer=function(){Me.resetOptimizer()},a.launchOptimizer=function(){a.setState({status:Ve.running}),Me.launchOptimizer()},a.handleStep=function(e){return function(){var t=a.state.activeStep;a.setState({activeStep:e===t?null:e})}},a.handleOpenDialog=function(){a.setState({dialogOpen:!0})},a.handleCloseDialog=function(){a.setState({dialogOpen:!1})},a.handleConfirmDialog=function(){a.launchOptimizer(),a.handleCloseDialog()},a.state={activeStep:0,dialogOpen:!1,status:null},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){Me.onChangeProjectName(this.update),this.update(),Me.register("update_status",this.updateStatus),Me.pullStatus()}},{key:"componentWillUnmount",value:function(){Me.removeOnChangeProjectName(this.update),Me.unregister("update_status",this.updateStatus)}},{key:"render",value:function(){if(null===Me.projectName)return r.a.createElement("div",null,'No project exists. Please click "Create Project".');var e=this.state,t=e.activeStep,a=e.status,n=e.dialogOpen,l=(this.props.classes,t<2?r.a.createElement(ie.a,{variant:"contained",color:"primary",onClick:this.handleStep(t+1)},"Next"):r.a.createElement(ie.a,{variant:"contained",color:"primary",onClick:a===Ve.idle?this.launchOptimizer:this.handleOpenDialog,disabled:a===Ve.running},"Launch Optimizer"));return r.a.createElement("div",null,r.a.createElement(ht.a,{activeStep:t,orientation:"vertical"},r.a.createElement(ft.a,null,r.a.createElement(vt.a,{onClick:this.handleStep(0)},"Input ForceField"),r.a.createElement(xt.a,null,r.a.createElement(xa,{status:a}))),r.a.createElement(ft.a,null,r.a.createElement(vt.a,{onClick:this.handleStep(1),disabled:!1},"Targets"),r.a.createElement(xt.a,null,r.a.createElement(vn,{status:a}))),r.a.createElement(ft.a,null,r.a.createElement(vt.a,{onClick:this.handleStep(2),disabled:!1},"Optimizer"),r.a.createElement(xt.a,null,r.a.createElement(jn,{status:a})))),l,r.a.createElement(Se.a,{open:n,onClose:this.handleCloseDialog},r.a.createElement(De.a,null,"Rerun the optimizer?"),r.a.createElement(_e.a,null,r.a.createElement(kt.a,null,"A previous optimization exists. Rerun the optimizer will overwrite the previous results.")),r.a.createElement(we.a,null,r.a.createElement(ie.a,{onClick:this.handleCloseDialog,color:"primary",autoFocus:!0},"Cancel"),r.a.createElement(ie.a,{onClick:this.handleConfirmDialog,color:"primary"},"Confirm"))))}}]),t}(r.a.Component),Sn=x()({root:{display:"flex",flexWrap:"wrap"},red:{color:"red"}})(Nn),Fn=a(145),wn=a.n(Fn),Tn=a(146),_n=a.n(Tn),In=a(143),Dn=a.n(In),Pn=a(144),Rn=a.n(Pn),Wn=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={targetData:null,objectiveData:{},currFrame:0,tabValue:0,targetName:null,optIter:null,compareIterSet:new Set([])},a.updateTargetData=function(e){a.setState({targetData:e})},a.updateObjectiveData=function(e){return function(t){var n=a.state.objectiveData;n[e]=t,a.setState({objectiveData:n})}},a.handleChangeTabValue=function(e,t){a.setState({tabValue:t})},a.handleTableRowClick=function(e,t){a.setState({currFrame:parseInt(t)})},a.handlePlotClick=function(e){a.setState({currFrame:e.points[0].pointIndex})},a.handleClickPrevIter=function(){var e=a.state.optIter;e>0&&a.setState({optIter:e-1})},a.handleClickNextIter=function(){var e=a.state.optIter;a.props.maxIter&&e<a.props.maxIter&&a.setState({optIter:e+1})},a.changeCheckBox=function(e){return function(){var t=new Set(a.state.compareIterSet);t.has(e)?t.delete(e):t.add(e),a.setState({compareIterSet:t})}},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({targetName:this.props.targetName,optIter:this.props.optIter})}},{key:"componentDidUpdate",value:function(e,t){if(e.targetName===this.props.targetName&&e.optIter===this.props.optIter||this.setState({targetName:this.props.targetName,optIter:this.props.optIter}),t.targetName!==this.state.targetName&&this.state.targetName)this.setState({targetData:null,objectiveData:{},tabValue:0,compareIterSet:new Set([])}),Me.getTargetData(this.state.targetName,this.updateTargetData),Me.getTargetObjectiveData(this.state.targetName,this.state.optIter,this.updateObjectiveData(this.state.optIter));else{if(t.optIter!==this.state.optIter&&!isNaN(this.state.optIter)){var a=this.state,n=a.targetName,r=a.optIter;r in a.objectiveData||Me.getTargetObjectiveData(n,r,this.updateObjectiveData(r))}if(g=t.compareIterSet,f=this.state.compareIterSet,g.size!==f.size||!Object(Ua.a)(g).every(function(e){return f.has(e)})){var l=this.state,o=l.targetName,i=l.compareIterSet,c=l.objectiveData,s=!0,m=!1,p=void 0;try{for(var d,u=i[Symbol.iterator]();!(s=(d=u.next()).done);s=!0){var h=d.value;h in c||Me.getTargetObjectiveData(o,h,this.updateObjectiveData(h))}}catch(b){m=!0,p=b}finally{try{s||null==u.return||u.return()}finally{if(m)throw p}}}}var g,f}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.maxIter,l=this.state,o=l.targetData,i=l.objectiveData,c=l.currFrame,s=l.tabValue,m=l.targetName,p=l.optIter,d=l.compareIterSet,u=null;p in i&&(u=i[p]);var h=Array.from(d).sort(),g=r.a.createElement("div",null);if(u&&u.qm_energies){var f=Math.max.apply(Math,Object(Ua.a)(u.qm_energies)),b=Math.max.apply(Math,Object(Ua.a)(u.mm_energies)),v=Math.max(f,b),E=[{x:u.qm_energies,y:u.mm_energies,type:"scatter",mode:"markers",name:"Relative Energies"}],x=!0,y=!1,k=void 0;try{for(var C,O=h[Symbol.iterator]();!(x=(C=O.next()).done);x=!0){var j=C.value;j in i&&i[j].qm_energies&&i[j].qm_energies.length>0&&(E.push({x:i[j].qm_energies,y:i[j].mm_energies,type:"scatter",mode:"markers",name:"Iter "+j}),v=Math.max.apply(Math,[v].concat(Object(Ua.a)(i[j].qm_energies),Object(Ua.a)(i[j].mm_energies))))}}catch(G){y=!0,k=G}finally{try{x||null==O.return||O.return()}finally{if(y)throw k}}E.push({x:[0,v],y:[0,v],mode:"lines",name:"reference",line:{dash:"dot",width:2},marker:{color:"rgba(50,50,50,0.6)"}}),g=r.a.createElement(mn.a,{data:E,style:{width:"100%",height:"100%"},layout:{title:"QM vs. MM Scatter Plot",xaxis:{title:"QM Relative Energy [ kJ/mol ]",range:[0,v+1]},yaxis:{scaleanchor:"x",title:"MM Relative Energy [ kJ/mol ]",range:[0,v+1]},showlegend:!0,legend:{x:.8,y:.2},margin:{l:40,r:40,t:60,b:40},hovermode:"closest"},onClick:this.handlePlotClick})}var N=r.a.createElement("div",{key:"plot1"},g),S=r.a.createElement("div",null);if(u&&u.qm_energies){var F=Math.max.apply(Math,Object(Ua.a)(u.qm_energies)),w=Math.max.apply(Math,Object(Ua.a)(u.mm_energies)),_=(Math.max(F,w),Object(Ua.a)(Array(u.qm_energies.length).keys())),I=[{x:_,y:u.qm_energies,mode:"lines+markers",name:"QM Energy"},{x:_,y:u.mm_energies,mode:"lines+markers",name:"MM Energy"}],D=!0,P=!1,R=void 0;try{for(var W,z=h[Symbol.iterator]();!(D=(W=z.next()).done);D=!0){var M=W.value;M in i&&i[M].qm_energies&&i[M].mm_energies.length>0&&I.push({x:_,y:i[M].mm_energies,mode:"lines+markers",name:"Iter "+M})}}catch(G){P=!0,R=G}finally{try{D||null==z.return||z.return()}finally{if(P)throw R}}S=r.a.createElement(mn.a,{data:I,style:{width:"100%",height:"100%"},layout:{title:"QM vs. MM Line Plot",xaxis:{title:"Frame Number"},yaxis:{title:"Relative Energies [ kJ/mol ]"},showlegend:!0,margin:{l:40,r:40,t:60,b:40},hovermode:"closest"},onClick:this.handlePlotClick})}var A=r.a.createElement("div",{key:"plot2"},S),H=[];if(u&&u.qm_energies&&u.qm_energies.length>0)for(var q=0;q<u.qm_energies.length;q++)H.push([q.toString(),u.qm_energies[q],u.mm_energies[q],u.diff[q],u.weights[q]]);var V=r.a.createElement("div",null,r.a.createElement(va,{tableHead:["#","QM Energies","MM Energies","Diff.","Weight"],data:H,title:"Objective Breakdown",handleRowClick:this.handleTableRowClick,key:"table-objective"})),B=[];if(u&&u.gradients&&u.plist)for(var L=0;L<u.gradients.length;L++)B.push([u.plist[L],u.gradients[L]]);var $=[N,A,V,r.a.createElement("div",null,r.a.createElement(va,{tableHead:["Parameter","Gradient"],data:B,title:"Contribution to Objective Gradients",key:"table-gradients"}))],Q=r.a.createElement(Ha,{pdbString:o?o.pdbString:null,title:"Geometries",frame:c}),U=Object(Ua.a)(Array(n+1).keys()).map(function(t){return r.a.createElement(ln.a,{control:r.a.createElement(nn.a,{icon:r.a.createElement(Dn.a,{fontSize:"small"}),checkedIcon:r.a.createElement(Rn.a,{fontSize:"small"}),checked:d.has(t),onChange:e.changeCheckBox(t),color:"primary"}),label:t,key:"checkbox-"+t})});return r.a.createElement(Ot.a,null,r.a.createElement(Ja.a,{className:a.header,action:r.a.createElement(T.a,{color:"secondary",onClick:this.props.onClose},r.a.createElement(cn.a,{fontSize:"large"})),title:m,subheader:["Iteration ",r.a.createElement(T.a,{onClick:this.handleClickPrevIter,disabled:p<=0,key:"iconbutton1"},r.a.createElement(wn.a,{fontSize:"small"})),p,r.a.createElement(T.a,{onClick:this.handleClickNextIter,disabled:!(n&&p<n),key:"iconbutton2"},r.a.createElement(_n.a,{fontSize:"small"})),r.a.createElement("span",{className:a.spanLabel,key:"checkbox-label"},"Compare with")].concat(Object(Ua.a)(U))}),r.a.createElement(Nt.a,null,r.a.createElement(Ya.a,{value:s,onChange:this.handleChangeTabValue,fullWidth:!0,indicatorColor:"primary"},r.a.createElement(Ka.a,{value:0,label:"QM vs MM Scatter Plot"}),r.a.createElement(Ka.a,{value:1,label:"QM vs MM Line Plot"}),r.a.createElement(Ka.a,{value:2,label:"QM vs MM Table"}),r.a.createElement(Ka.a,{value:3,label:"Gradients Table"})),r.a.createElement("div",{style:{width:"100%",overflow:"auto",paddingTop:15}},r.a.createElement("div",{style:{float:"left",width:"60%",overflow:"auto"}},$[s]),r.a.createElement("div",{style:{float:"right",width:"40%"}},Q))))}}]),t}(r.a.Component),zn=x()({header:{paddingBottom:10},spanLabel:{paddingLeft:20,paddingRight:20}})(Wn);var Mn=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={targetData:null,objectiveData:{},currFrame:0,tabValue:0,targetName:null,optIter:null,compareIterSet:new Set([])},a.updateTargetData=function(e){a.setState({targetData:e})},a.updateObjectiveData=function(e){return function(t){var n=a.state.objectiveData;n[e]=t,a.setState({objectiveData:n})}},a.handleChangeTabValue=function(e,t){a.setState({tabValue:t})},a.handleTableRowClick=function(e,t){a.setState({currFrame:parseInt(t)})},a.handlePlotClick=function(e){a.setState({currFrame:e.points[0].pointIndex})},a.handleClickPrevIter=function(){var e=a.state.optIter;e>0&&a.setState({optIter:e-1})},a.handleClickNextIter=function(){var e=a.state.optIter;a.props.maxIter&&e<a.props.maxIter&&a.setState({optIter:e+1})},a.changeCheckBox=function(e){return function(){var t=new Set(a.state.compareIterSet);t.has(e)?t.delete(e):t.add(e),a.setState({compareIterSet:t})}},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({targetName:this.props.targetName,optIter:this.props.optIter})}},{key:"componentDidUpdate",value:function(e,t){if(e.targetName===this.props.targetName&&e.optIter===this.props.optIter||this.setState({targetName:this.props.targetName,optIter:this.props.optIter}),t.targetName!==this.state.targetName&&this.state.targetName)this.setState({targetData:null,objectiveData:{},tabValue:0,compareIterSet:new Set([])}),Me.getTargetData(this.state.targetName,this.updateTargetData),Me.getTargetObjectiveData(this.state.targetName,this.state.optIter,this.updateObjectiveData(this.state.optIter));else{if(t.optIter!==this.state.optIter&&!isNaN(this.state.optIter)){var a=this.state,n=a.targetName,r=a.optIter;r in a.objectiveData||Me.getTargetObjectiveData(n,r,this.updateObjectiveData(r))}if(g=t.compareIterSet,f=this.state.compareIterSet,g.size!==f.size||!Object(Ua.a)(g).every(function(e){return f.has(e)})){var l=this.state,o=l.targetName,i=l.compareIterSet,c=l.objectiveData,s=!0,m=!1,p=void 0;try{for(var d,u=i[Symbol.iterator]();!(s=(d=u.next()).done);s=!0){var h=d.value;h in c||Me.getTargetObjectiveData(o,h,this.updateObjectiveData(h))}}catch(b){m=!0,p=b}finally{try{s||null==u.return||u.return()}finally{if(m)throw p}}}}var g,f}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.maxIter,l=this.state,o=l.targetData,i=l.objectiveData,c=l.currFrame,s=l.tabValue,m=l.targetName,p=l.optIter,d=l.compareIterSet,u=null;p in i&&(u=i[p]);var h=Array.from(d).sort(),g=r.a.createElement("div",null);if(u&&u.qm_energies){var f=Math.max.apply(Math,Object(Ua.a)(u.qm_energies)),b=Math.max.apply(Math,Object(Ua.a)(u.mm_energies)),v=Math.max(f,b),E=Math.min.apply(Math,Object(Ua.a)(u.qm_energies).concat(Object(Ua.a)(u.mm_energies))),x=Math.min(.05*(v-E),1),y=[{x:u.qm_energies,y:u.mm_energies,type:"scatter",mode:"markers",name:"Relative Energies"}],k=!0,C=!1,O=void 0;try{for(var j,N=h[Symbol.iterator]();!(k=(j=N.next()).done);k=!0){var S=j.value;S in i&&i[S].qm_energies&&i[S].qm_energies.length>0&&(y.push({x:i[S].qm_energies,y:i[S].mm_energies,type:"scatter",mode:"markers",name:"Iter "+S}),v=Math.max.apply(Math,[v].concat(Object(Ua.a)(i[S].qm_energies),Object(Ua.a)(i[S].mm_energies))),E=Math.min.apply(Math,[E].concat(Object(Ua.a)(i[S].qm_energies),Object(Ua.a)(i[S].mm_energies))))}}catch(X){C=!0,O=X}finally{try{k||null==N.return||N.return()}finally{if(C)throw O}}y.push({x:[0,v],y:[0,v],mode:"lines",name:"reference",line:{dash:"dot",width:2},marker:{color:"rgba(50,50,50,0.6)"}}),g=r.a.createElement(mn.a,{data:y,style:{width:"100%",height:"100%"},layout:{title:"QM vs. MM Scatter Plot",xaxis:{title:"QM Relative Energy [ kJ/mol ]",range:[E-x,v+x]},yaxis:{scaleanchor:"x",title:"MM Relative Energy [ kJ/mol ]",range:[E-x,v+x]},showlegend:!0,legend:{x:.8,y:.2},margin:{l:40,r:40,t:60,b:40},hovermode:"closest"},onClick:this.handlePlotClick})}var F=r.a.createElement("div",{key:"plot1"},g),w=r.a.createElement("div",null);if(u&&u.qm_energies){var _=Math.max.apply(Math,Object(Ua.a)(u.qm_energies)),I=Math.max.apply(Math,Object(Ua.a)(u.mm_energies)),D=(Math.max(_,I),Object(Ua.a)(Array(u.qm_energies.length).keys())),P=[{x:D,y:u.qm_energies,mode:"lines+markers",name:"QM Energy"},{x:D,y:u.mm_energies,mode:"lines+markers",name:"MM Energy"}],R=!0,W=!1,z=void 0;try{for(var M,A=h[Symbol.iterator]();!(R=(M=A.next()).done);R=!0){var H=M.value;H in i&&i[H].qm_energies&&i[H].mm_energies.length>0&&P.push({x:D,y:i[H].mm_energies,mode:"lines+markers",name:"Iter "+H})}}catch(X){W=!0,z=X}finally{try{R||null==A.return||A.return()}finally{if(W)throw z}}w=r.a.createElement(mn.a,{data:P,style:{width:"100%",height:"100%"},layout:{title:"QM vs. MM Line Plot",xaxis:{title:"Frame Number"},yaxis:{title:"Relative Energies [ kJ/mol ]"},showlegend:!0,margin:{l:40,r:40,t:60,b:40},hovermode:"closest"},onClick:this.handlePlotClick})}var q=r.a.createElement("div",{key:"plot2"},w),V=[];if(u&&u.qm_energies&&u.qm_energies.length>0)for(var B=0;B<u.qm_energies.length;B++)V.push([B.toString(),u.qm_energies[B],u.mm_energies[B],u.diff[B],u.weights[B]]);var L=r.a.createElement("div",null,r.a.createElement(va,{tableHead:["#","QM Energies","MM Energies","Diff.","Weight"],data:V,title:"Objective Breakdown",handleRowClick:this.handleTableRowClick,key:"table-objective"})),$=[];if(u&&u.gradients&&u.plist)for(var Q=0;Q<u.gradients.length;Q++)$.push([u.plist[Q],u.gradients[Q]]);var U=[F,q,L,r.a.createElement("div",null,r.a.createElement(va,{tableHead:["Parameter","Gradient"],data:$,title:"Contribution to Objective Gradients",key:"table-gradients"}))],G=r.a.createElement(Ha,{pdbString:o?o.pdbString:null,title:"Geometries",frame:c}),J=Object(Ua.a)(Array(n+1).keys()).map(function(t){return r.a.createElement(ln.a,{control:r.a.createElement(nn.a,{icon:r.a.createElement(Dn.a,{fontSize:"small"}),checkedIcon:r.a.createElement(Rn.a,{fontSize:"small"}),checked:d.has(t),onChange:e.changeCheckBox(t),color:"primary"}),label:t,key:"checkbox-"+t})});return r.a.createElement(Ot.a,null,r.a.createElement(Ja.a,{className:a.header,action:r.a.createElement(T.a,{color:"secondary",onClick:this.props.onClose},r.a.createElement(cn.a,{fontSize:"large"})),title:m,subheader:["Iteration ",r.a.createElement(T.a,{onClick:this.handleClickPrevIter,disabled:p<=0,key:"iconbutton1"},r.a.createElement(wn.a,{fontSize:"small"})),p,r.a.createElement(T.a,{onClick:this.handleClickNextIter,disabled:!(n&&p<n),key:"iconbutton2"},r.a.createElement(_n.a,{fontSize:"small"})),r.a.createElement("span",{className:a.spanLabel,key:"checkbox-label"},"Compare with")].concat(Object(Ua.a)(J))}),r.a.createElement(Nt.a,null,r.a.createElement(Ya.a,{value:s,onChange:this.handleChangeTabValue,fullWidth:!0,indicatorColor:"primary"},r.a.createElement(Ka.a,{value:0,label:"QM vs MM Scatter Plot"}),r.a.createElement(Ka.a,{value:1,label:"QM vs MM Line Plot"}),r.a.createElement(Ka.a,{value:2,label:"QM vs MM Table"}),r.a.createElement(Ka.a,{value:3,label:"Gradients Table"})),r.a.createElement("div",{style:{width:"100%",overflow:"auto",paddingTop:15}},r.a.createElement("div",{style:{float:"left",width:"60%",overflow:"auto"}},U[s]),r.a.createElement("div",{style:{float:"right",width:"40%"}},G))))}}]),t}(r.a.Component);var An={ABINITIO_GMX:zn,ABINITIO_SMIRNOFF:zn,TORSIONPROFILE_SMIRNOFF:x()({header:{paddingBottom:10},spanLabel:{paddingLeft:20,paddingRight:20}})(Mn)},Hn=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={currentIter:0,optimizerState:{},targetsInfo:{},dialogTargetName:null,dialogTargetType:null,dialogOpen:!1},a.handleClickIterButton=function(e,t){a.setState({currentIter:t})},a.update=function(){Me.getAllTargetsInfo(a.updateTargetsInfo),a.updateEveryIter()},a.updateEveryIter=function(){Me.getOptimizerState(a.updateOptimizerState)},a.updateOptimizerState=function(e){a.setState({optimizerState:e})},a.updateTargetsInfo=function(e){a.setState({targetsInfo:e})},a.handleObjectiveRowClick=function(e,t){a.state.targetsInfo[t]&&a.state.targetsInfo[t].type&&a.setState({dialogTargetName:t,dialogTargetType:a.state.targetsInfo[t].type,dialogOpen:!0})},a.handleCloseDialog=function(){a.setState({dialogOpen:!1})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){Me.onChangeProjectName(this.update),this.update(),Me.register("update_opt_state",this.updateEveryIter)}},{key:"componentWillUnmount",value:function(){Me.removeOnChangeProjectName(this.update),Me.unregister("update_opt_state",this.updateEveryIter)}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.currentIter,l=a.optimizerState,o=a.targetsInfo,i=a.dialogTargetType,c=a.dialogTargetName,s=a.dialogOpen,m=Object.keys(l).map(function(e){return parseInt(e)}).sort(function(e,t){return e-t}),p=[m.map(function(a){return r.a.createElement(ie.a,{key:a,onClick:function(t){return e.handleClickIterButton(t,a)},className:t.iterButton},"Iteration ",a)})],d=m[m.length-1],u=An[i],h=s?r.a.createElement(Se.a,{open:s,maxWidth:"lg",fullWidth:!0,scroll:"body"},r.a.createElement(u,{targetName:c,optIter:n,onClose:this.handleCloseDialog,maxIter:d})):r.a.createElement("div",null),g={};for(var f in o)o[f].type in An&&(g[f]=!0);return r.a.createElement("div",{className:t.wrap},r.a.createElement("div",{className:t.leftPanel},p),r.a.createElement("div",{className:t.rightPanel},r.a.createElement("p",{className:t.title},"Iteration ",n),n in l?r.a.createElement(Mt.a,null,r.a.createElement(Jt,{xs:12,sm:12,md:12},r.a.createElement("div",{className:t.table},r.a.createElement(Vn,{optstate:l[n],handleRowClick:this.handleObjectiveRowClick,targetsWithObjectiveViews:g}))),r.a.createElement(Jt,{xs:12,sm:12,md:12},r.a.createElement("div",{className:t.table},r.a.createElement(Bn,{data:l[n].paramUpdates})))):"Waiting for optimization results data"),h)}}]),t}(r.a.Component),qn=x()({wrap:{width:"100%",overflow:"auto"},leftPanel:{float:"left",width:"15%",paddingTop:"5vh"},rightPanel:{float:"right",width:"85%",maxWidth:"85%"},iterButton:{padding:"15px"},title:{fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",paddingBottom:"10px",fontSize:"30px"},table:{paddingTop:"5px"}})(Hn);function Vn(e){var t=e.optstate.objdict,a=e.optstate.objTotal,n=[];for(var l in t){var o=t[l].w,i=t[l].x,c="";e.targetsWithObjectiveViews&&l in e.targetsWithObjectiveViews&&(c=r.a.createElement(dt.a,null)),n.push([l,c,o,i,o*i])}var s="Objective Breakdown ( Total + Penalty = "+parseFloat(a).toFixed(4)+" )";return r.a.createElement(va,{tableHead:["Target","Details","Weight","Objective","Contribution"],data:n,title:s,handleRowClick:e.handleRowClick})}function Bn(e){var t=e.data,a=[];for(var n in t)a.push([n,t[n].gradient,t[n].prev_pval,t[n].pval]);return r.a.createElement(va,{tableHead:["Parameter","Gradient","Prev","New"],data:a,title:"Parameter Updates"})}var Ln=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={tabValue:0,paramGroups:{}},a.handleChangeTabValue=function(e,t){a.setState({tabValue:t})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){for(var e=this.props,t=e.paramNames,a=e.paramInitValues,n=e.paramFinalValues,r=e.paramPriors,l=this.state.paramGroups,o=0;o<t.length;o++){var i=t[o].split("/"),c=i.slice(0,i.length-1).join(" / ");l[c]||(l[c]=[]),l[c].push([i[i.length-1],a[o],n[o],r[o]])}this.setState({paramGroups:l})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.tabValue,n=t.paramGroups,l=Object.keys(n),o=r.a.createElement("div",null),i=n[l[a]];if(i&&i.length>0){var c=i.map(function(e){return e[0]}),s=Math.max.apply(Math,Object(Ua.a)(c.map(function(e){return e.length}))),m=i.map(function(e){return e[1]}),p=i.map(function(e){return e[2]}),d=i.map(function(e){return e[3]}),u=Object(Ua.a)(Array(c.length).keys());o=r.a.createElement("div",null,r.a.createElement(mn.a,{data:[{x:m,y:u,offset:.15,name:"Init Value",orientation:"h",marker:{color:"rgba(55,128,191,0.6)"},width:.3,type:"bar",base:0},{x:p,y:u,offset:-.15,name:"Final Value",orientation:"h",marker:{color:"rgba(255,153,51,0.6)"},width:.3,type:"bar",base:0},{x:d,y:u,offset:-.25,name:"Prior Width",orientation:"h",marker:{color:"rgba(204, 0, 255, 0.6)"},width:.1,type:"bar",base:0}],style:{width:"100%",height:Math.max(20*c.length+200,400)},layout:{barmode:"group",margin:{l:7*s},yaxis:{tickvals:u,ticktext:c}},key:"plot"+a}))}return r.a.createElement(Ot.a,null,r.a.createElement(Ja.a,{className:e.header,action:r.a.createElement(T.a,{color:"secondary",onClick:this.props.onClose},r.a.createElement(cn.a,{fontSize:"large"})),title:"Parameter Changes"}),r.a.createElement(Nt.a,null,r.a.createElement(Ya.a,{value:a,onChange:this.handleChangeTabValue,fullWidth:!0,indicatorColor:"primary",scrollable:!0,scrollButtonsAuto:!0},l.map(function(t,a){return r.a.createElement(Ka.a,{classes:{root:e.tabRoot},value:a,label:t,key:a})})),o))}}]),t}(r.a.Component),$n=x()({header:{paddingBottom:10},tabRoot:{overflowWrap:"break-word"}})(Ln),Qn=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={fileName:"",paramNames:[],paramInitValues:[],paramValues:[],paramPriors:[],ffText:null,paramPriorRules:[],dialogOpen:!1},a.update=function(){Me.getFinalForceFieldInfo(a.updateForceFieldInfo)},a.updateForceFieldInfo=function(e){e?a.setState({fileName:e.filenames[0],paramNames:e.plist,paramInitValues:e.pvals0,paramValues:e.pvals,paramPriors:e.priors,ffText:e.raw_text,paramPriorRules:e.prior_rules}):a.setState({fileName:"",paramNames:[],paramInitValues:[],paramValues:[],paramPriors:[],ffText:null,paramPriorRules:[]})},a.downloadForceFieldFile=function(){var e=a.state,t=e.fileName,n=e.ffText,r=document.createElement("a"),l=new Blob([n],{type:"text/plain"});r.href=URL.createObjectURL(l),r.download=t,document.body.appendChild(r),r.click()},a.handleOpenParamChangeDialog=function(){a.setState({dialogOpen:!0})},a.handleCloseParamChangeDialog=function(){a.setState({dialogOpen:!1})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){Me.onChangeProjectName(this.update),this.update()}},{key:"componentWillUnmount",value:function(){Me.removeOnChangeProjectName(this.update)}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.fileName,n=t.ffText,l=t.paramNames,o=t.paramInitValues,i=t.paramValues,c=t.paramPriors,s=t.paramPriorRules,m=t.dialogOpen,p=m?r.a.createElement(Se.a,{open:m,maxWidth:"lg",fullWidth:!0,scroll:"body",onClose:this.handleCloseParamChangeDialog},r.a.createElement($n,{paramNames:l,paramInitValues:o,paramFinalValues:i,paramPriors:c,onClose:this.handleCloseParamChangeDialog})):r.a.createElement("div",null);return r.a.createElement(Nt.a,null,r.a.createElement("div",{className:e.section},a,"\xa0\xa0\xa0\xa0\xa0\xa0",r.a.createElement(se,{onClick:this.handleOpenParamChangeDialog,color:"primary"},"View Parameter Change"),"\xa0\xa0\xa0\xa0\xa0\xa0",r.a.createElement(se,{onClick:this.downloadForceFieldFile,color:"success"},"Download")),r.a.createElement("div",{className:e.section},l&&l.length>0?r.a.createElement(va,{tableHead:["#","Parameter","Value","Prior Width"],data:l.map(function(e,t){return[t.toString(),e,i[t],c[t]]}),title:"Final Force Field Parameters"}):"No parameters found"),n?r.a.createElement(Tt.a,null,r.a.createElement(It.a,{expandIcon:r.a.createElement(Vt.a,null)},"View File Contents"),r.a.createElement(Pt.a,null,r.a.createElement("pre",null,n))):null,s&&s.length>0?r.a.createElement(Tt.a,null,r.a.createElement(It.a,{expandIcon:r.a.createElement(Vt.a,null)},"Prior Width Rules"),r.a.createElement(Pt.a,null,r.a.createElement(Mt.a,{container:!0},s.map(function(e,t){return r.a.createElement(Mt.a,{container:!0,key:t},r.a.createElement(Jt,{xs:12,sm:8,md:8},r.a.createElement(Re.a,{helperText:"rule",value:e[0],error:""===e[0],disabled:!0,fullWidth:!0})),r.a.createElement(Jt,{xs:10,sm:3,md:3},r.a.createElement(Re.a,{helperText:"value",value:e[1],error:""===e[1]||isNaN(e[1]),disabled:!0,fullWidth:!0})))})))):null,p)}}]),t}(r.a.Component),Un=x()({input:{display:"none"},title:{marginBottom:16,fontSize:14},section:{marginBottom:15}})(Qn),Gn=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={status:null,optimizeResults:{}},a.updateStatus=function(e){a.setState({status:e.status})},a.fetch=function(){Me.getOptimizeResults(a.updateOptimizeResults)},a.updateOptimizeResults=function(e){a.setState({optimizeResults:e})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){Me.onChangeProjectName(this.fetch),Me.register("update_status",this.updateStatus),Me.pullStatus()}},{key:"componentWillUnmount",value:function(){Me.removeOnChangeProjectName(this.fetch),Me.unregister("update_status",this.updateStatus)}},{key:"componentDidUpdate",value:function(e,t){t.status!==Ve.finished&&this.state.status===Ve.finished&&this.fetch()}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.status,n=t.optimizeResults;if(a!==Ve.finished)return r.a.createElement("div",null,"Optimization wasn't finished.");var l=r.a.createElement(ie.a,{variant:"outlined",color:"secondary"},"did not converge"),o=r.a.createElement(ie.a,{variant:"outlined"}," 0 ");n&&n.converged&&(l=r.a.createElement(ie.a,{variant:"outlined",color:"primary"},"converged")),n&&n.iteration&&(o=r.a.createElement(ie.a,{variant:"fab",color:"primary",mini:!0},n.iteration));var i=r.a.createElement("div",null);if(n&&n.obj_values){var c=Object(Ua.a)(Array(n.obj_values.length).keys());i=r.a.createElement(mn.a,{data:[{x:c,y:n.obj_values,type:"bar",name:"Objective Values"}],style:{width:"100%",height:"100%"},layout:{xaxis:{title:"Iteration"},yaxis:{title:"Objective Function Value"}}})}return r.a.createElement("div",null,r.a.createElement(Ot.a,{className:e.card},r.a.createElement(Nt.a,null,"Optimization ",l," in ",o," iterations"),r.a.createElement(Nt.a,null,i)),r.a.createElement(Ot.a,{className:e.card},r.a.createElement(Ja.a,{subheader:"Final Force Field"}),r.a.createElement(Un,null)))}}]),t}(r.a.Component),Jn=x()({card:{padding:"10px",margin:"20px"}})(Gn),Xn=a(280),Yn=a.n(Xn),Zn=a(281),Kn=a.n(Zn),er=a(282),tr=a.n(er),ar=a(114),nr=a.n(ar),rr=a(283),lr=a.n(rr),or={card:{border:"0",marginBottom:"30px",marginTop:"30px",borderRadius:"6px",color:"rgba(0, 0, 0, 0.87)",background:"#fff",width:"100%",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.14)",position:"relative",display:"flex",flexDirection:"column",minWidth:"0",wordWrap:"break-word",fontSize:".875rem"},cardPlain:{background:"transparent",boxShadow:"none"},cardProfile:{marginTop:"30px",textAlign:"center"},cardChart:{"& p":{marginTop:"0px",paddingTop:"0px"}}};var ir=x()(or)(function(e){var t,a=Object(k.a)({},e),n=a.classes,l=a.className,o=a.children,i=a.plain,c=a.profile,s=a.chart,m=Object(p.a)(a,["classes","className","children","plain","profile","chart"]),d=O()((t={},Object(y.a)(t,n.card,!0),Object(y.a)(t,n.cardPlain,i),Object(y.a)(t,n.cardProfile,c),Object(y.a)(t,n.cardChart,s),Object(y.a)(t,l,void 0!==l),t));return r.a.createElement("div",Object.assign({className:d},m),o)}),cr={cardHeader:{padding:"0.75rem 1.25rem",marginBottom:"0",borderBottom:"none",background:"transparent",zIndex:"3 !important","&$cardHeaderPlain,&$cardHeaderIcon,&$cardHeaderStats,&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{margin:"0 15px",padding:"0",position:"relative",color:"#FFFFFF"},"&:first-child":{borderRadius:"calc(.25rem - 1px) calc(.25rem - 1px) 0 0"},"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{"&:not($cardHeaderIcon)":{borderRadius:"3px",marginTop:"-20px",padding:"15px"}},"&$cardHeaderStats svg":{fontSize:"36px",lineHeight:"56px",textAlign:"center",width:"36px",height:"36px",margin:"10px 10px 4px"},"&$cardHeaderStats i":{fontSize:"36px",lineHeight:"56px",width:"56px",height:"56px",textAlign:"center"},"&$cardHeaderStats$cardHeaderIcon":{textAlign:"right"}},cardHeaderPlain:{marginLeft:"0px !important",marginRight:"0px !important"},cardHeaderStats:{"& $cardHeaderIcon":{textAlign:"right"},"& h1,& h2,& h3,& h4,& h5,& h6":{margin:"0 !important"}},cardHeaderIcon:{"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{background:"transparent",boxShadow:"none"},"& i":{width:"33px",height:"33px",textAlign:"center",lineHeight:"33px"},"& svg":{width:"24px",height:"24px",textAlign:"center",lineHeight:"33px",margin:"5px 4px 0px"}},warningCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object($.a)({},Y)},successCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object($.a)({},Z)},dangerCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object($.a)({},K)},infoCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object($.a)({},ee)},primaryCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object($.a)({},te)},roseCardHeader:{color:"#FFFFFF","&:not($cardHeaderIcon)":Object($.a)({},ae)}};var sr=x()(cr)(function(e){var t,a=Object(k.a)({},e),n=a.classes,l=a.className,o=a.children,i=a.color,c=a.plain,s=a.stats,m=a.icon,d=Object(p.a)(a,["classes","className","children","color","plain","stats","icon"]),u=O()((t={},Object(y.a)(t,n.cardHeader,!0),Object(y.a)(t,n[i+"CardHeader"],i),Object(y.a)(t,n.cardHeaderPlain,c),Object(y.a)(t,n.cardHeaderStats,s),Object(y.a)(t,n.cardHeaderIcon,m),Object(y.a)(t,l,void 0!==l),t));return r.a.createElement("div",Object.assign({className:u},d),o)}),mr={cardIcon:{"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{borderRadius:"3px",backgroundColor:"#999",padding:"15px",marginTop:"-20px",marginRight:"15px",float:"left"}},warningCardHeader:Y,successCardHeader:Z,dangerCardHeader:K,infoCardHeader:ee,primaryCardHeader:te,roseCardHeader:ae};var pr=x()(mr)(function(e){var t,a=Object(k.a)({},e),n=a.classes,l=a.className,o=a.children,i=a.color,c=Object(p.a)(a,["classes","className","children","color"]),s=O()((t={},Object(y.a)(t,n.cardIcon,!0),Object(y.a)(t,n[i+"CardHeader"],i),Object(y.a)(t,l,void 0!==l),t));return r.a.createElement("div",Object.assign({className:s},c),o)}),dr={cardFooter:{padding:"0",paddingTop:"10px",margin:"0 15px 10px",borderRadius:"0",justifyContent:"space-between",alignItems:"center",display:"flex",backgroundColor:"transparent",border:"0"},cardFooterProfile:{marginTop:"-15px"},cardFooterPlain:{paddingLeft:"5px",paddingRight:"5px",backgroundColor:"transparent"},cardFooterStats:{borderTop:"1px solid #eee",marginTop:"20px","& svg":{position:"relative",top:"4px",marginRight:"3px",marginLeft:"3px",width:"16px",height:"16px"}},cardFooterChart:{borderTop:"1px solid #eee"}};var ur=x()(dr)(function(e){var t,a=Object(k.a)({},e),n=a.classes,l=a.className,o=a.children,i=a.plain,c=a.profile,s=a.stats,m=a.chart,d=Object(p.a)(a,["classes","className","children","plain","profile","stats","chart"]),u=O()((t={},Object(y.a)(t,n.cardFooter,!0),Object(y.a)(t,n.cardFooterPlain,i),Object(y.a)(t,n.cardFooterProfile,c),Object(y.a)(t,n.cardFooterStats,s),Object(y.a)(t,n.cardFooterChart,m),Object(y.a)(t,l,void 0!==l),t));return r.a.createElement("div",Object.assign({className:u},d),o)}),hr=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={wqStatus:{code:"not_connected",description:"server not connected"},lastUpdateTime:new Date,timePassed:0},a.update=function(){Me.getWorkQueueStatus(a.updateWorkQueueStatus)},a.updateStatus=function(e){a.setState({status:e.status})},a.updateWorkQueueStatus=function(e){a.setState({wqStatus:e,lastUpdateTime:new Date})},a.updateTimePassed=function(){null!==a.state.lastUpdateTime&&a.setState({timePassed:Math.round((new Date-a.state.lastUpdateTime)/1e3)})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){Me.onChangeProjectName(this.update),this.update(),Me.register("update_status",this.updateStatus),Me.register("update_work_queue_status",this.update),Me.pullStatus(),this.timer=setInterval(this.updateTimePassed,1e3)}},{key:"componentWillUnmount",value:function(){Me.removeOnChangeProjectName(this.update),Me.unregister("update_status",this.updateStatus),Me.unregister("update_work_queue_status",this.update),clearInterval(this.timer)}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=(t.status,t.wqStatus),n=t.timePassed,l=r.a.createElement(ie.a,{variant:"outlined",color:"secondary"},"not ready"),o=r.a.createElement("div",{style:{margin:10}},r.a.createElement("div",null,"Status: ",a.code),r.a.createElement("div",null,"Description: ",a.description),r.a.createElement("div",null,"Workers: ",a.worker_running,"/",a.worker_total),r.a.createElement("div",null,"Jobs: ",a.job_finished,"/",a.job_total));return a&&(l=r.a.createElement(ie.a,{variant:"outlined",color:"primary"},a.code)),r.a.createElement("div",null,r.a.createElement(ha.a,{style:{padding:20}},r.a.createElement("div",{style:{margin:10}},"Work Queue system ",l),o),r.a.createElement(Mt.a,{container:!0},r.a.createElement(Jt,{xs:12,sm:6,md:3},r.a.createElement(ir,null,r.a.createElement(sr,{color:"warning",stats:!0,icon:!0},r.a.createElement(pr,{color:"warning"},r.a.createElement(Yn.a,null)),r.a.createElement("p",{className:e.cardCategory},"Running Workers"),r.a.createElement("h3",{className:e.cardTitle},a.worker_running)),r.a.createElement(ur,{stats:!0},r.a.createElement("div",{className:e.stats},r.a.createElement(nr.a,null),"Updated ",n,"s ago")))),r.a.createElement(Jt,{xs:12,sm:6,md:3},r.a.createElement(ir,null,r.a.createElement(sr,{color:"success",stats:!0,icon:!0},r.a.createElement(pr,{color:"success"},r.a.createElement(Kn.a,null)),r.a.createElement("p",{className:e.cardCategory},"Total Workers"),r.a.createElement("h3",{className:e.cardTitle},a.worker_total)),r.a.createElement(ur,{stats:!0},r.a.createElement("div",{className:e.stats},r.a.createElement(nr.a,null),"Updated ",n,"s ago")))),r.a.createElement(Jt,{xs:12,sm:6,md:3},r.a.createElement(ir,null,r.a.createElement(sr,{color:"danger",stats:!0,icon:!0},r.a.createElement(pr,{color:"danger"},r.a.createElement(tr.a,null)),r.a.createElement("p",{className:e.cardCategory},"Jobs Finished"),r.a.createElement("h3",{className:e.cardTitle},a.job_finished)),r.a.createElement(ur,{stats:!0},r.a.createElement("div",{className:e.stats},r.a.createElement(nr.a,null),"Updated ",n,"s ago")))),r.a.createElement(Jt,{xs:12,sm:6,md:3},r.a.createElement(ir,null,r.a.createElement(sr,{color:"info",stats:!0,icon:!0},r.a.createElement(pr,{color:"info"},r.a.createElement(lr.a,null)),r.a.createElement("p",{className:e.cardCategory},"Jobs Submitted"),r.a.createElement("h3",{className:e.cardTitle},a.job_total)),r.a.createElement(ur,{stats:!0},r.a.createElement("div",{className:e.stats},r.a.createElement(nr.a,null),"Updated ",n,"s ago"))))))}}]),t}(r.a.Component),gr=x()({wrap:{width:"100%",overflow:"auto"},leftPanel:{float:"left",width:"15%",paddingTop:"5vh"},rightPanel:{float:"right",width:"85%",maxWidth:"85%"},iterButton:{padding:"15px"},title:{fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",paddingBottom:"20px",fontSize:"30px"},cardCategory:{color:"#999999",margin:"0",fontSize:"14px",marginTop:"0",paddingTop:"10px",marginBottom:"0"},cardTitle:{color:"#3C4858",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}})(hr),fr=[{path:"/input",sidebarName:"Input",navbarName:"Optimization Input",icon:ot.a,component:Sn},{path:"/workqueue",sidebarName:"Work Queue",navbarName:"Work Queue",icon:mt.a,component:gr},{path:"/output",sidebarName:"Output",navbarName:"Optimization Output",icon:ct.a,component:qn},{path:"/results",sidebarName:"Results",navbarName:"Optimization Results",icon:dt.a,component:Jn},{redirect:!0,path:"/",to:"/input",navbarName:"Redirect"}],br=function(e){var t;return{wrapper:{position:"relative",top:"0",height:"100vh"},mainPanel:Object($.a)((t={},Object(y.a)(t,e.breakpoints.up("md"),{width:"calc(100% - ".concat(260,"px)")}),Object(y.a)(t,"overflow","auto"),Object(y.a)(t,"position","relative"),Object(y.a)(t,"float","right"),t),Q,{maxHeight:"100%",width:"100%",overflowScrolling:"touch"}),content:{marginTop:"70px",padding:"30px 15px",minHeight:"calc(100vh - 123px)"},container:U,map:{marginTop:"70px"}}},vr=a(287),Er=a.n(vr),xr=a(288),yr=a.n(xr),kr=r.a.createElement(s.a,null,fr.map(function(e,t){return e.redirect?r.a.createElement(b.a,{from:e.path,to:e.to,key:t}):r.a.createElement(m.a,{path:e.path,component:e.component,key:t})})),Cr=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={mobileOpen:!1,projectName:null},a.handleDrawerToggle=function(){a.setState({mobileOpen:!a.state.mobileOpen})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"getRoute",value:function(){return"/maps"!==this.props.location.pathname}},{key:"componentDidMount",value:function(){var e=this;if(navigator.platform.indexOf("Win")>-1)new v.a(this.refs.mainPanel);Me.onChangeProjectName(function(t){e.setState({projectName:t})}),Me.checkProject()}},{key:"componentDidUpdate",value:function(e){e.history.location.pathname!==e.location.pathname&&(this.refs.mainPanel.scrollTop=0,this.state.mobileOpen&&this.setState({mobileOpen:!1}))}},{key:"render",value:function(){var e=this.props,t=e.classes,a=Object(p.a)(e,["classes"]);return r.a.createElement("div",{className:t.wrapper},r.a.createElement(rt,Object.assign({routes:fr,logoText:"ForceBalance",logo:yr.a,image:Er.a,handleDrawerToggle:this.handleDrawerToggle,open:this.state.mobileOpen,color:"blue"},a)),r.a.createElement("div",{className:t.mainPanel,ref:"mainPanel"},r.a.createElement(Ue,Object.assign({routes:fr,handleDrawerToggle:this.handleDrawerToggle,projectName:this.state.projectName},a)),this.getRoute()?r.a.createElement("div",{className:t.content},r.a.createElement("div",{className:t.container},kr)):r.a.createElement("div",{className:t.map},kr),this.getRoute()?r.a.createElement(Ke,null):null))}}]),t}(r.a.Component),Or=[{path:"/",component:x()(br)(Cr)}],jr=Object(i.a)();o.a.render(r.a.createElement(c.a,{history:jr},r.a.createElement(s.a,null,Or.map(function(e,t){return r.a.createElement(m.a,{path:e.path,component:e.component,key:t})}))),document.getElementById("root"))}},[[290,2,1]]]);
//# sourceMappingURL=main.6a7f40a2.chunk.js.map